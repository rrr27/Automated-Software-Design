<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"> <html><head> <meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type"><title>YUML and YPL Database Manual</title></head> <body> <h1 style="text-align: center;"><span style="font-family: Helvetica,Arial,sans-serif;">YUML and YPL Database Manual</span></h1>  <div style="text-align: center;"><a href="mailto:batory@cs.utexas.edu"><span style="font-family: Helvetica,Arial,sans-serif;">Don Batory</span></a><br style="font-family: Helvetica,Arial,sans-serif;"> <span style="font-family: Helvetica,Arial,sans-serif;">Department of Computer Science</span><br style="font-family: Helvetica,Arial,sans-serif;"> <span style="font-family: Helvetica,Arial,sans-serif;">The University of Texas at Austin</span><br style="font-family: Helvetica,Arial,sans-serif;"> <span style="font-family: Helvetica,Arial,sans-serif;">Austin, TX, USA</span><br style="font-family: Helvetica,Arial,sans-serif;"> </div> <br style="font-family: Helvetica,Arial,sans-serif;"> <a href="http://yuml.me/diagram/scruffy/class/draw"><span style="font-family: Helvetica,Arial,sans-serif;">Yuml</span></a><span style="font-family: Helvetica,Arial,sans-serif;"> is a free web service for drawing UML class diagrams given a Yuml input specification.&nbsp; As this is a for-profit company, the "free" service comes with some strings attached.&nbsp; Namely, it will produce a pretty class diagram for you provided that your specification is not too complicated. &nbsp;</span><span style="font-family: Helvetica,Arial,sans-serif;">To familiarize yourself with Yuml:</span><br style="font-family: Helvetica,Arial,sans-serif;"> <ul> <li><span style="font-family: Helvetica,Arial,sans-serif;">go to the<a href="http://yuml.me/diagram/scruffy/class/draw"> Yuml Class Diagram Web site</a></span></li> <li><span style="font-family: Helvetica,Arial,sans-serif;">type in this spec</span></li> </ul> <pre style="font-family: monospace; margin-left: 40px; font-weight: bold;"><big>[student|name]has-loves[course|name] </big></pre> <ul> <li><span style="font-family: Helvetica,Arial,sans-serif;">and Yuml returns this gorgeous picture:</span></li> </ul> <div style="text-align: left; margin-left: 80px;"><a name="firstFigure"></a><img style="height: 55px; width: 288px;" alt="" src="figures/yumlPicture.png"><br style="font-family: Helvetica,Arial,sans-serif;"> </div> <span style="font-family: Helvetica,Arial,sans-serif;"><br> Draw some diagrams of your own.&nbsp; When you feel comfortable, proceed to the next section.<br style="font-family: Helvetica,Arial,sans-serif;"> </span> <h2><span style="font-family: Helvetica,Arial,sans-serif;">Yuml Specifications</span></h2> <span style="font-family: Helvetica,Arial,sans-serif;">A Yuml specification is elegant.&nbsp; Here is a BNF of a subset of Yuml that <span style="font-weight: bold;">MDELite</span> uses for class diagrams. Literals (a.k.a. tokens) are in single `quotes'.</span><br><pre style="font-family: monospace; margin-left: 40px;"><big style="font-weight: bold;"><span style="font-family: monospace;">// This is a crude grammar for Yuml.
// The Yuml grammar for class diagrams is essentially the following
// (but note, Yuml is more general)

YumlSpec : Line+ ;    // one or more lines

Line: Box | Connection ;

Box : '[' Class ']' ;  

Connection : Box [End1] [Role1] '-' [Role2] [End2] Box ;

End1 : '<>' | '++' | '^' | '<' ;
End2 : '<>' | '++' | '^' | '>' ;

Role1 :  String ;   // String that has no ']' chars

Class : String                         // name only
      | String '|' String              // name and methods only
      | String '|' String '|' String   // name, field, and methods
      ; </span></big><br></pre> <span style="font-family: Helvetica,Arial,sans-serif;">Note that a String token is mentioned above.&nbsp; This not a Java String, but one that is devoid of the characters: <br> <br></span><div style="margin-left: 40px;"><span style="font-family: Helvetica,Arial,sans-serif;"> </span></div> <table style="text-align: left; width: 153px; height: 148px; margin-left: 40px;" border="1" cellpadding="2" cellspacing="2"> <tbody> <tr> <td style="font-family: monospace; width: 124px; font-weight: bold;"><big>comma</big></td> <td style="font-family: monospace; font-weight: bold;"><big>,</big></td> </tr> <tr> <td style="font-family: monospace; width: 124px; font-weight: bold;"><big>left brace</big></td> <td style="font-family: monospace; font-weight: bold;"><big>[</big></td> </tr> <tr> <td style="font-family: monospace; width: 124px; font-weight: bold;"><big>right brace</big></td> <td style="font-family: monospace; font-weight: bold;"><big>]</big></td> </tr> <tr> <td style="font-family: monospace; width: 124px; font-weight: bold;"><big>less than</big></td> <td style="font-family: monospace; font-weight: bold;"><big>&lt;</big></td> </tr> <tr> <td style="font-family: monospace; width: 124px; font-weight: bold;"><big>greater than</big></td> <td style="font-family: monospace; font-weight: bold;"><big>&gt;</big></td> </tr> <tr> <td style="font-family: monospace; width: 124px; font-weight: bold;"><big>minus</big></td> <td style="font-family: monospace; font-weight: bold;"><big>-</big></td> </tr> </tbody> </table> <div style="margin-left: 40px;"><span style="font-family: Helvetica,Arial,sans-serif;"></span><br style="font-family: Helvetica,Arial,sans-serif;"></div> <span style="font-family: Helvetica,Arial,sans-serif;">Further, a semicolon "</span><span style="font-family: monospace;">;</span><span style="font-family: Helvetica,Arial,sans-serif;">" means new line.&nbsp; Some hints:</span><br style="font-family: Helvetica,Arial,sans-serif;"> <ul> <li><span style="font-family: Helvetica,Arial,sans-serif;">&nbsp;As Yuml doesn't like "</span><span style="font-family: monospace;">[]</span><span style="font-family: Helvetica,Arial,sans-serif;">" as in "</span><span style="font-family: monospace;">String[]</span><span style="font-family: Helvetica,Arial,sans-serif;">", I use "</span><span style="font-family: monospace;">#</span><span style="font-family: Helvetica,Arial,sans-serif;">" -- so "</span><span style="font-family: monospace;">String[]</span><span style="font-family: Helvetica,Arial,sans-serif;">" becomes "</span><span style="font-family: monospace;">String#</span><span style="font-family: Helvetica,Arial,sans-serif;">". &nbsp;</span></li> <li><span style="font-family: Helvetica,Arial,sans-serif;">&nbsp;As Yuml doesn't like commas (as in "</span><span style="font-family: monospace;">foo(int x, int y)</span><span style="font-family: Helvetica,Arial,sans-serif;">"), I simply use blanks between types -- like "</span><span style="font-family: monospace;">foo(int int)</span><span style="font-family: Helvetica,Arial,sans-serif;">".</span></li> <li><span style="font-family: Helvetica,Arial,sans-serif;">&nbsp;As Yuml has no indicator to distinguish </span><span style="font-family: monospace;">static</span><span style="font-family: Helvetica,Arial,sans-serif;"> from non-</span><span style="font-family: monospace;">static</span><span style="font-family: Helvetica,Arial,sans-serif;">, I simply preface the names of </span><span style="font-family: monospace;">static</span><span style="font-family: Helvetica,Arial,sans-serif;"> members with an underscore -- like "</span><span style="font-family: monospace;">_bar()</span><span style="font-family: Helvetica,Arial,sans-serif;">".</span></li> </ul> <span style="font-family: Helvetica,Arial,sans-serif;">Consider the following Yuml specification:</span><span style="font-family: Helvetica,Arial,sans-serif;"></span><br style="font-family: Helvetica,Arial,sans-serif;"> <pre style="font-family: monospace; margin-left: 40px; font-weight: bold;"><big>[interface;Closable|close()]
[interface;NetworkChannel|bind();getLocalAddress();getOption();setOption();supportedOptions()]
[MyClass|_MyClass();close()]
[interface;Closable]^-.-[MyClass]
[YourClass]<>-3>[MyClass]
[interface;Closable]^-[interface;NetworkChannel] </big></pre> <span style="font-family: Helvetica,Arial,sans-serif;">Yuml produces this beauty:</span><br style="font-family: Helvetica,Arial,sans-serif;"> <br style="font-family: Helvetica,Arial,sans-serif;"> <span style="font-family: Helvetica,Arial,sans-serif;"></span><a name="secondFigure"></a><img style="width: 458px; height: 383px;" alt="" src="figures/yuml.jpg"><br style="font-family: Helvetica,Arial,sans-serif;"> <span style="font-family: Helvetica,Arial,sans-serif;"></span><br style="font-family: Helvetica,Arial,sans-serif;"> <span style="font-family: Helvetica,Arial,sans-serif;"><span style="font-weight: bold;">Warning!</span> Do not read the above specification too deeply!&nbsp; '</span><span style="font-family: monospace;">Interface;Closable</span><span style="font-family: Helvetica,Arial,sans-serif;">' is a String.&nbsp; The word '</span><span style="font-family: monospace;">Interface</span><span style="font-family: Helvetica,Arial,sans-serif;">' means nothing to Yuml.&nbsp; It could just as well have been '</span><span style="font-family: monospace;">George</span><span style="font-family: Helvetica,Arial,sans-serif;">', which also means nothing to Yuml.&nbsp; What Yuml does understand is '</span><span style="font-family: monospace;">;</span><span style="font-family: Helvetica,Arial,sans-serif;">' (semicolon), which means add a new line.&nbsp; So '</span><span style="font-family: monospace;">Interface;Closable</span><span style="font-family: Helvetica,Arial,sans-serif;">' produces a 2-line name in the above figure.&nbsp; And the string '</span><span style="font-family: monospace;">bind();getLocalAdddress()</span><span style="font-family: Helvetica,Arial,sans-serif;">' means print strings '</span><span style="font-family: monospace;">bind()</span><span style="font-family: Helvetica,Arial,sans-serif;">' and '</span><span style="font-family: monospace;">getLocalAddress()</span><span style="font-family: Helvetica,Arial,sans-serif;">' on separate lines.<br style="font-family: Helvetica,Arial,sans-serif;"> </span> <h2><span style="font-family: Helvetica,Arial,sans-serif;">The YPL Schema</span></h2> <span style="font-family: Helvetica,Arial,sans-serif;">Here is the YPL schema (ypl.schema.pl), which can encode YUML diagrams as a database of tuples:</span><br style="font-family: Helvetica,Arial,sans-serif;"> <pre style="margin-left: 40px;"><big style="font-weight: bold;"><span style="font-family: monospace;">% yuml class schema

dbase(ypl,[yumlBox,yumlAssociation]).

% type = n (for note), c (for class), i (for interface)

table(yumlBox,[id,type,"name","fields","methods"]).

% end1 = <> | ++ | ^ | < | "" (nothing)
% end2 = <> | ++ | ^ | > | "" (nothing)
% lineType = - | -.-

table(yumlAssociation,[id,box1,"role1","end1","lineType",box2,"role2","end2"]). </span></big><br></pre> <span style="font-family: Helvetica,Arial,sans-serif;">Here is a translation of (i.e., the database of tuples that encodes)&nbsp; the specification of the <a href="#firstFigure">first figure</a>:</span><br style="font-family: Helvetica,Arial,sans-serif;"> <pre style="font-family: monospace; margin-left: 40px;"><big><span style="font-weight: bold;">dbase(ypl,[yumlBox,yumlAssociation]).

table(yumlBox,[id,type,"name","fields","methods"]).
yumlBox(b0,c,'student','name','').
yumlBox(b1,c,'course','name','').

table(yumlAssociation,[id,box1,"role1","end1","lineType",box2,"role2","end2"]).
yumlAssociation(a0,b0,'has','','-',b1,'loves',''). </span><br></big></pre>  <span style="font-family: Helvetica,Arial,sans-serif;">And here is a <span style="font-weight: bold;">MDL.ClassYumlParser</span> translation of the specification of the <a href="#secondFigure">second figure</a>:</span><br style="font-family: Helvetica,Arial,sans-serif;"> <pre style="font-family: monospace; margin-left: 40px;"><big><span style="font-weight: bold;">dbase(ypl,[yumlBox,yumlAssociation]).

table(yumlBox,[id,type,"name","fields","methods"]).
yumlBox(b0,i,';Closable','close()','').
yumlBox(b1,i,';NetworkChannel','bind();getLocalAddress();getOption();setOption();supportedOptions()','').
yumlBox(b2,c,'MyClass','_MyClass();close()','').
yumlBox(b3,c,'YourClass','','').

table(yumlAssociation,[id,box1,"role1","end1","lineType",box2,"role2","end2"]).
yumlAssociation(a0,b0,'','^','-.-',b2,'','').
yumlAssociation(a1,b3,'','<>','-',b2,'3','>').
yumlAssociation(a2,b0,'','^','-',b1,'',''). </span><br></big></pre> <span style="font-family: Helvetica,Arial,sans-serif;">Of course, you can take these databases and convert them back into Yuml</span><span style="font-family: Helvetica,Arial,sans-serif;"> specs using <span style="font-weight: bold;">MDL.ClassYumlUnParser</span>.&nbsp; See the <a href="MDELiteManual.html">MDELite Manual</a> for</span><span style="font-family: Helvetica,Arial,sans-serif;"> more details.<br style="font-family: Helvetica,Arial,sans-serif;"> </span> <h2><span style="font-family: Helvetica,Arial,sans-serif;">YPL Constraints</span></h2> <span style="font-family: Helvetica,Arial,sans-serif;">There indeed are YPL constraints.&nbsp; I have not posted them, as they are good</span><span style="font-family: Helvetica,Arial,sans-serif;"> examples for homework assignments. &nbsp;</span><br style="font-family: Helvetica,Arial,sans-serif;"> <span style="font-family: Helvetica,Arial,sans-serif;"></span><br style="font-family: Helvetica,Arial,sans-serif;"> </body></html> 
