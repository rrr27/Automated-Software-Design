<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"> <html><head><meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type"><title>MDELite Installation and Overview Manual</title></head> <body><h1 style="text-align: center;"><span style="font-family: Helvetica,Arial,sans-serif;">MDELite Installation and Overview Manual </span></h1><div style="text-align: center;"><a href="mailto:batory@cs.utexas.edu"><span style="font-family: Helvetica,Arial,sans-serif;">Don Batory</span></a><br style="font-family: Helvetica,Arial,sans-serif;"><span style="font-family: Helvetica,Arial,sans-serif;">Department of Computer Science</span><br style="font-family: Helvetica,Arial,sans-serif;"><span style="font-family: Helvetica,Arial,sans-serif;">The University of Texas at Austin</span><br style="font-family: Helvetica,Arial,sans-serif;"><span style="font-family: Helvetica,Arial,sans-serif;">Austin, TX, USA</span><a href="mailto:MDELite%20Manual%20%0A%0ADon%20Batory%0ADepartment%20of%20Computer%20Science%0AThe%20University%20of%20Texas%20at%20Austin%0AAustin,%20TX,%20USA%0Abatory@cs.utexas.edu%0A%0A%0A%0AMDELite%20%20is%20an%20alternative%20to%20Eclipse%20for%20teaching%20and%20exploring%20concepts%20in%0AModel%20Driven%20Engineering%20%28MDE%29.%20%20Rather%20than:%0A%0AStoring%20models%20and%20metamodels%20as%20obscure%20XML%20documents,%20MDELite%20%20encodes%20them%0Aas%20readable%20relational%20databases%20expressed%20as%20elementary%20facts;%20%20Using%20%20Object%0AConstraint%20Language%20%28OCL%29%20to%20express%20constraints,%20MDELite%20uses%20Java%20Streams;%0AWriting%20model-to-model%20%28M2M%29%20transformations%20in%20the%20Atlas%20Transformation%0ALanguage%20%28ATL%29,%20an%20outgrowth%20of%20OCL,%20MDELite%20relies%20on%20Java;%20and%20Using%20yet%20another%20language/tool%20for%20model-2-text%20M2T%20translations,%20%0AMDELite%20again%20relies%20on%20Java.%20%20%0A%0AHere%20is%20an%20overview%20of%20this%20manual:%0A%0A%0A%20%20%20Installation%20of%20MDELite%0A%20%20%20MDELite-Relational%20Schemas%0A%20%20%20MDELite-Relational%20Databases%0A%20%20%20MDELite%20Tools%0A%0A%0A%0Ainstallation%0A%0AYou%20can%20download%20MDELite%20from:%20%0A%0Ahttp://www.cs.utexas.edu/users/schwartz/MDELite/index.html%0A%0A%0AThe%20MDELite%20directory%20and%20executable%20contains:%0A%0A%0ADocs%20--%20documentation,%20including%20this%20manual,%0A%20%20%20lib%20--%20a%20library%20of%20jar%20files%20needed%20by%20MDELite,%0A%20%20%20libpl%20--%20a%20library%20of%20predefined%20schemas,%20and%0A%20%20%20Tool.jar%20--%20the%20MDELite%20jar.%0A%0A%0A%0A%0ATo%20install%20MDELite,%20just%20place%20Tool.jar%20on%20your%20CLASSPATH.%20In%20Windows,%20the%20incantation%20to%20do%20so%20is:%0A%5Cvspace%7B.5em%0A%0A%0A%0A%3E%20set%20CLASSPATH=%5C%CLASSPATH%5C%;C:$%5Cbackslash%7B$xfer$%5Cbackslash%7B$dist$%5Cbackslash%7B$%5CTTool%7B.jar%0A%0A%0A%0A%0Awhere%20C:$%5Cbackslash%20xfer%5Cbackslash%20dist$%20is%20the%20absolute%20path%20to%20the%20directory%20containing%20%5CTTool.jar.%0ATo%20check%20to%20see%20if%20you%20did%20the%20above%20tasks%20correctly,%20run%20the%20program%0A%5Cverifyinstall:%0A%0A%0A%0A%0A%0A%0A%0A%5Csection%7BMDELite-Relational%20Schemassec:schemas%0A%0AIn%20MDE-speak,%20a%20model%20conforms%20to%20a%20metamodel.%20%20In%20MDELite-speak,%20a%20metamodel%20is%20a%20relational%20schema;%20a%20relational%20database%20is%20a%20model%20that%20conforms%20to%20its%20schema.%20%20%28There%20are%20constraints%20that%20are%20associated%20with%20a%20database%20schema,%20which%20we%20cover%20later%20in%20%0A%5Csect%7Butilities.%29%0A%0AMDELite%20allows%20you%20to%20outline%20a%20relational%20schema%20in%20a%20way%20inspired%20by%20Prolog%20facts.%20%20Here%20is%20a%0Atypical%20%60short%27%20declaration%20in%20school.ooschema.pl:%0A%0A%0A%20%20%20%20dbase%28school,%5Bperson,professor,department,student%5D%29.%0A%0A%20%20%20%20table%28person,%5Bid,%22name%22%5D%29.%0A%20%20%20%20table%28professor,%5Bdeptid%5D%29.%0A%20%20%20%20table%28department,%5Bid,%22name%22,%22building%22%5D%29.%0A%20%20%20%20table%28student,%5Butid%5D%29.%0A%0A%20%20%20%20subtable%28person,%5Bprofessor,student%5D%29.%0A%0A%0A%0A%0AThe%20above%20means:%0A%0A%20%20%20The%20name%20of%20this%20schema%20is%20school.%20%20It%20contains%20four%20tables:%20person,%20professor,%20department,%20student;%0A%20%20%20Every%20table%20has%20a%20name%20and%20a%20list%20of%20columns%20%28attributes%29.%20The%20person%20table%20has%20two%20attributes:%20id%20and%20%60%60name%27%27;%20and%0A%20%20%20Tables%20can%20be%20arranged%20in%20an%20inheritance%20hierarchy.%20%20The%20subtable%20declaration%20%0Asays%20classes%20professor%20and%20student%20are%20subtables%20of%20person.%0A%0A%0A%0AThere%20are%20three%20important%20conventions%20used%20in%20MDELite%20tables:%0A%20%20%20The%20first%20attribute%20of%20an%20MDELite%20table%20is%20an%20identifier%20field%20whose%0ATname%20need%20not%20be%20%60id%27;%0A%20%20%20There%20are%20two%20kinds%20of%20fields%20in%20MDELite%20table%20schemas:%20those%20with%20unquoted%20attribute%20names%20and%20those%20with%20quoted%20names.%20A%20quoted-name%20field%20means%20that%20all%20of%20its%20values%20must%20be%20quoted%20%28single-or-double%29;%20an%20unquoted-name%20field%20means%20that%20all%20of%20its%20values%20must%20be%20unquoted;%0A%20%20%20An%20$n$-tuple%20of%20a%20table%20$t$%20is%20written%20as%20a%20prolog%20fact:%20$t%28v_1%20%5Cldots%20v_n%29$.%20%20Some%20person%20tuples%20might%20be:%20%20%0A%0A%0A%20%20%20%20%20%20person%28p1,%27Don%27%29.%0A%20%20%20%20%20%20person%28p2,%27Barack%20Obama%27%29.%0A%0A%0A%0AValues%20of%20a%20tuple%20are%20listed%20in%20the%20order%20that%20their%20column/attributes%20are%20listed%20in%20their%20table%20definition.%20%20%0A%0A%0A%%20%20%20Tables%20can%20be%20arranged%20in%20an%20inheritance%20hierarchy,%20which%20are%20specified%20by%20subtable%20declarations%20like:%20%20%0A%%0A%%0A%20%20%20%20%20%20%subtable%28person,%5Bprofessor,student%5D%29.%0A%%0A%%0A%%0A%This%20declaration%20says%20that%20the%20subtables%20of%20person%20are%20pro%5C-fessor%20and%20student.%20%20Equivalently,%20every%20professor%20and%20student%20is%20a%20person.%0A%0A%0AMDELite%20uses%20a%20more%20elaborate%20definition%20of%20a%20schema.%20%20You%20can%20produced%20this%20schema%20by%20running:%0A%0A%0A%20%20%3E%20java%20%5Cootoschema%7B%20school.ooschema.pl%0A%20%20%20%20%20%20%20%20%20//%20school.schema.pl%20produced%0A%09%09%09%09%09%0A%20%20%3E%20type%20school.schema.pl%0A%20%20dbase%28school,%5Bperson,professor,department,student%5D%29.%0A%0A%20%20table%28person,%5Bid,%22name%22%5D%29.%0A%20%20table%28professor,%5Bid,%22name%22,deptid%5D%29.%0A%20%20table%28department,%5Bid,%22name%22,%22building%22%5D%29.%0A%20%20table%28student,%5Bid,%22name%22,utid%5D%29.%0A%0A%20%20subtable%28person,%5Bprofessor,student%5D%29%0A%0A%0A%0AThe%20only%20difference%20between%20a%20.ooschema%20file%20and%20its%20.schema%20counterpart%20is%20that%20attributes%20of%20super-tables%20are%20propagated%20to%0Aits%20sub-tables,%20recursively.%20%20Above,%20every%20professor%20tuple%20and%20every%20student%20tuple%20will%20have%20person%20attributes.%0A%0A%5Csection%7BMDELite-Relational%20Databasessec:databases%0A%0AA%20MDELite%20database%20is%20an%20instance%20of%20a%20.schema.pl%20file.%20%20Recall%20the%20school.schema.pl%20of%20the%20previous%20section.%20%20An%20instance%20of%20this%20database%20is%20a%20separate%20file,%20named%20my.school.pl,%20where%20%27my%27%20is%20the%20name%20of%20the%20instance,%20%27school%27%20is%20the%20schema,%20and%20%27pl%27%20denotes%20an%20MDELite%20file.%20%20Here%20is%20the%20my.school.pl%20database:%0A%0A%0Adbase%28school,%5Bperson,professor,department,student%5D%29.%0A%0Atable%28person,%5Bid,%22name%22%5D%29.%0A%0Atable%28professor,%5Bid,%22name%22,deptid%5D%29.%0Aprofessor%28p1,%27don%27,d1%29.%0Aprofessor%28p2,%27Robert%27,d1%29.%0Aprofessor%28p3,%27Lorenzo%27,d2%29.%0Aprofessor%28p4,%27kelly%27,d3%29.%0A%0Atable%28department,%5Bid,%22name%22,%22building%22%5D%29.%0Adepartment%28d1,%27computer%20science%27,%27gates%20dell%20complex%27%29.%0Adepartment%28d2,%27computer%20science%27,%27gates%20hall%27%29.%0Adepartment%28d3,%27computer%20science%27,%27Bahen%20Centre%27%29.%0A%0Atable%28student,%5Bid,%22name%22,utid%5D%29%0Astudent%28s1,%27zeke%27,%27zh333%27%29.%0Astudent%28s2,%27Brenda%27,%27UTgreat%27%29.%0Astudent%28s3,%27Thomas%27,%27astronaut201%27%29.%0A%0A%0A%0A%0AThe%20above%20means:%0A%0A%20%20%20The%20student%20table%20has%203%20tuples,%20department%20has%203%20tuples,%20and%20professor%20has%204.%0ATable%20person%20has%200%20%28no%29%20tuples.%20%20This%20is%20like%20Java:%20objects/tuples%20are%20listed%20for%20the%0Aclass/table%20in%20which%20they%20were%20created.%20%20%0A%20%20%20The%20database%20schema%20definition%20is%20always%20included%20in%20a%20database%20file%20%28that%27s%20the%20dbase%28%29%20fact%29.%0A%20%20%20The%20schema%20definition%20for%20each%20table%20is%20always%20included%20in%20a%20database%20file%20%28that%27s%20the%20table%28%29%20facts%29.%0A%20%20%20The%20tuples%20of%20the%20table%20follow%20immediately%20after%20its%20table%28%29%20fact.%20%20An%20absence%20of%20tuple%20declarations%20%0Asays%20the%20table%20is%20empty.%0A%0A%0AMDELite%20does%20not%20automatically%20ensure%20that%20schema%20declarations%20of%20the%20database%20match%20that%20of%20the%20corresponding%20.schema%20file.%20%20So%20beware.%0AMDELite%20has%20a%20tool%20that%20verifies%20%28or%20reports%20differences%29%20between%0Aa%20database%20schema%20and%20its%20database.%20%20To%20verify%20that%20the%20my.school.pl%20database%20conforms%20to%20school.schema.pl,%20run%20the%20%5CinstanceOf%20tool%20below.%20%20In%20this%20case,%20conformance%20holds%20as%20there%20is%20silence%20for%20output.%0A%0A%3Ejava%20%5CinstanceOf%20my.school.pl%20school.schema.pl%0A%0A%0A%0A%0A%0AMDELite%20Tools%0A%0AMDELite%20offers%20the%20following%20tools:%0A%0A%20%20%20All%0A%20%20%20InstanceOf%0A%20%20%20Conformancermance%0A%20%20%20M2M%7BModel-to-Model%20Transformation%0A%20%20%20OOSchema%7BOOSchema%20to%20Schema%20Translation%0A%20%20%20RDB%7BReading%20Databases%0A%20%20%20RSC%7BReading%20Schemas%0A%20%20%20Version%7BVersion%0A%20%20%20Violet%7BViolet%0A%20%20%20VioletParser%7BViolet%20Class%20Parser%0A%20%20%20VioletUnParser%7BViolet%20Class%20UnParser%0A%20%20%20YumlParser%7BYuml%20Class%20Parser%0A%20%20%20YumlUnParser%7BYuml%20Class%20UnParser%0A%0A%0AAll%0AAll%20--%20List%20the%20MDELite%20tools,%20like%20the%20above.%0A%0A%0AC%3Ejava%20%5Call%0A%0A%0A%0AInstanceOf%0AInstanceOf%20--%20This%20tool%20verifies%20that%20a%20database%20is%20an%20instance%20of%20its%20schema.%20%20We%20saw%20a%20use%20for%20this%20in%20%0Aan%20earlier%20section.%20%20To%20invoke%20this%20test,%20use%20the%20code%20below.%20%20Silence%20is%20returned%20if%20there%20are%20no%20errors.%0A%0A%0AC%3Ejava%20%5CinstanceOf%0A%0AUsage:%20%5CinstanceOf%20%3CS%3E.schema.pl%20%3CY%3E.%3CS%3E.pl%0A%20%20%20%20%20%20%20confirms%20that%20database%20%3CY%3E%20is%20an%20instance%20of%20%3CS%3E%0A%0A%0A%0AConformance%0AModel%20Conformance%20--%20%20MDELite%20relies%20on%20you%20writing%20a%20Java%20program%20%28typically%20using%20Java%20streams%20and%20MDELite-tool%20support%29%20%0Ato%20write%20and%20evaluate%20constraints%20and%20to%20report%20errors.%20%20%28The%20Object%20Constraint%20Language%20%28OCL%29%20is%20an%20awkward%20%0Astream%20language;%20Java%20streams%20are%20more%20elegant%29.%0A%0A%0AHere%20are%20two%20constraints%20on%20the%20school%20database:%0A%0A%20%20%20Person%20Name%20Constraint:%20A%20Person%27s%20name%20must%20begin%20with%20a%20capital%20letter.%0A%20%20%20Name%20Uniqueness:%20No%20two%20Persons%20have%20the%20same%20name.%0A%0A%0AA%20typical%20outline%20of%20schoolConform.java%20is%20sketched%20below.%0A%0A%0Aimport%20PrologDB.*;%0A%0Apublic%20class%20schoolConform%20%7B%0A%0A%20%20public%20static%20void%20marquee%28%29%20%7B%0A%20%20%20%20System.err.format%28%22Usage:%20%s%20%3CX%3E.school.pl%5Cn%22,%20%0A%09%09%20%20%20%20%20schoolConform.class.getName%28%29%29;%0A%20%20%20%20System.err.format%28%22%20%20%3CX%3E%20is%20name%20of%20database%5Cn%22%29;%0A%20%20%20%20System.exit%281%29;%0A%20%20%0A%0A%20%20static%20boolean%20checkCharacter%28Tuple%20t%29%20%7B%0A%20%20%20%20String%20n%20=%20t.getName%28%22name%22%29;%0A%20%20%20%20if%20%28n.length%28%29%20==%200%29%0A%20%20%20%20%20%20%20return%20true;%0A%20%20%20%20Character%20c%20=%20n.charAt%280%29;%0A%20%20%20%20return%20Character.isLowerCase%28c%29;%0A%20%20%0A%0A%20%20public%20static%20void%20main%28String%5B%5D%20args%29%20%7B%0A%20%20%20%20if%20%28args.length%20%21=%201%20%7C%7C%20%0A%20%20%20%20%20%20%20%21args%5B0%5D.endsWith%28%22.school.pl%22%29%29%20%7B%0A%20%20%20%20%20%20marquee%28%29;%0A%20%20%20%20%0A%0A%20%20%20%20DB%20db%20=%20DB.readDataBase%28args%5B0%5D%29;%0A%20%20%20%20Table%20person%20=%20db.findTableEH%28%22person%22%29;%0A%20%20%20%20ErrorReport%20er%20=%20new%20ErrorReport%28System.out%29;%0A%0A%20%20%20%20//%20Person%20Name%20Constraint%0A%20%20%20%20person.stream%28%29%0A%20%20%20%20%20%20.filter%28t%20-%3E%20checkCharacter%28t%29%29%0A%20%20%20%20%20%20.forEach%28t-%3Eer.add%28%22Person%20Name%20not%20%22%20+%0A%20%20%20%20%20%20%20%20%20%22capitalized%20%22%20+%20t.get%28%22name%22%29%29%29;%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20//%20Name%20Uniqueness%20Contraint%0A%20%20%20%20person.stream%28%29.filter%28t-%3E%20%0A%20%20%20%20%20%20person.stream%28%29%0A%20%20%20%20%20%20.filter%28g-%3E%20g.get%28%22name%22%29.equals%28t.get%28%22name%22%29%29%29%0A%20%20%20%20%20%20.count%28%29%3E1%29%0A%20%20%20%20.forEach%28t-%3Eer.add%28%22Persons%20with%20duplicate%22%20+%0A%09%09%20%20%20%20+%20%22name%20:%20%22%20+%20t.get%28%22name%22%29%29%29;%0A%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20er.printReport%28%29;%0A%20%20%20%20%20catch%20%28Exception%20e%29%20%7B%0A%20%20%20%20%20%20System.out.println%28e.getMessage%28%29%29;%0A%20%20%20%20%0A%20%20%0A%0A%0A%0A%0APerhaps%20the%20only%20thing%20strange%20is%20the%20use%20of%20class%20ErrorReport.%20%20An%20ErrorReport%20object%20maintains%20a%20list%20of%20errors%20that%20are%20posted%20to%20it%20by%20Stream%20expressions.%20%20When%20a%20report%20is%20printed%20and%20if%20at%20least%20one%20error%20was%20found,%20a%20RuntimeException%20is%20thrown.%20%20Incidentally,%0Athe%20output%20of%20this%20program%20is:%20%0A%0A%0APerson%20Name%20not%20capitalized%20don%0APerson%20Name%20not%20capitalized%20kelly%0APerson%20Name%20not%20capitalized%20zeke%0AErrors%20found%0A%0A%0A%0AFor%20further%20details%20see%20ProgrammingManual.%0A%0AM2M%0AModel%20to%20Model%20%28M2M%29%20Transformation%20--%20A%20M2M%20transformation%20in%20MDELite%20is%20a%0AJava%20program%20that%20implements%20a%0Adatabase-to-database%20transformation.%20It%20imports%20MDELite%20tools%20to%20read%20and%20write%20MDELite%20%0Aschemas%20and%20databases.%20%20Typically,%20although%20not%20required,%20it%20takes%20$2$%20arguments:%0Athe%20name%20of%20the%20input%20database%20file%20and%20the%20name%20of%20the%20output%20database%20file.%20%20Beyond%20that,%0Ahow%20you%20write%20your%20database-to-database%20transformation%20is%20up%20to%20you.%20%0AFor%20further%20information%20see%20%5CProgrammingManual%7B.%0A%0A%0AOOSchema%0AOOSchema%20Translation%20--%20%5Cootoschema%7B%20reads%20an%20input%20x.ooschema.pl%20file%20and%20converts%20it%20to%20a%20schema%20file%20x.schema.pl.%20%20Remember%20an%20ooschema%20file%20is%20a%20Java-like%20declaration%20of%20tables%20and%20their%20inheritance%20hierarchies.%20%20The%20attributes%20of%20a%20table%20are%20only%20those%20that%20are%20specific%20to%20that%20table.%20%20Flattening%20this%20schema%20propagates%20attributes%20of%20supertables%20to%20subtables.%20%20It%20is%20not%20difficut,%20but%20is%20error-prone.%20We%20saw%20an%20example%20use%20of%20%5Cootoschema%7B%20in%20the%20last%20section:%0A%0A%0A%20%3E%20java%20%5Cootoschema%0A%0A%20%20%20Usage:%20%5Cootoschema%20%3CX%3E.ooschema.pl%0A%20%20%20%20%20%20%20%20%20%20outputs%20file%20%3CX%3E.schema.pl%0A%0A%0ARDB%0AReading%20a%20Database%20--%20%5Creaddb%7B%20reads%20a%20database%20and%20reports%20errors.%20%20If%20there%20are%20no%20errors,%20silence%20is%20returned:%0A%0A%0A%20%3E%20java%20%5Creaddb%0A%0A%20%20%20Usage:%20%5Creaddb%20%3CX%3E.%3CSCHEMA%3E.pl%0A%20%20%20%20%20%20%20%20%20%20reads%20database%20%3CX%3E%20of%20type%20%3CSCHEMA%3E%20and%0A%20%20%20%20%20%20%20%20%20%20reports%20errors%0A%0AReading%20a%20Schema%20--%20%20reads%20a%20schema%20and%20reports%20errors.%20%20If%20there%20are%20no%20errors,%20silence%20is%20returned:%0A%0A%0A%20%3E%20java%20%5Creadsc%0A%0A%20%20%20Usage:%20%5Creadsc%20%3CX%3E.%3CSCH%3E.pl%0A%20%20%20%20%20%20%20%20%20%20%3CSCH%3E%20is%20%27ooschema%27%20or%20%27schema%27%0A%20%20%20%20%20%20%20%20%20%20reads%20schema%20x%20and%20reports%20errors%0A%0A%0AVersion%0AVersion%20%20--%20returns%20the%20version%20number%20of%20MDELite:%0A%0A%0A%20%3E%20java%20%5Cversion%0A%20%20%20MDELite%20version%206.0%0A%0A%0A%0A%0AViolet%0AViolet%20--%20You%20can%20invoke%20Violet%20directly%20through%20its%20jar%20file,%20but%20calling%20it%20from%20a%20command%20line%20is%20painful;%20%5Cviolet%7B%20is%20easier:%20%0A%0A%20%3E%20java%20%5Cviolet%7B%0A%20//%20spawns%20Violet%20and%20waits%20for%20Violet%20to%20close%0A%0A%0A%0A%0A%0AVioletParser%0AVioletClassParser%20--%20%5Cvioletparser%7B%20maps%20a%20Violet%20Class%20diagram%0Afile%20%28%3CX%3E.class.violet%29%20to%20a%20vpl%20database.%20%20The%20vpl%20schema%20is%20in%20libpl/vpl.schema.pl%20%0Aand%20is%20shown%20below:%%0A%0Adbase%28vpl,%5BvioletMiddleLabels,violetAssociation,%0A%20%20%20%20%20%20%20%20%20%20%20violetInterface,violetClass%5D%29.%0A%0Atable%28violetClass,%5Bid,%22name%22,%22fields%22,%22methods%22,x,y%5D%29.%0Atable%28violetInterface,%5Bid,%22name%22,%22methods%22,x,y%5D%29.%0Atable%28violetAssociation,%5Bid,%22role1%22,%22arrow1%22,type1,%0A%20%20%20%20%20%20%20%20%20%22role2%22,%22arrow2%22,type2,%22bentStyle%22,%0A%20%20%20%20%20%20%20%20%20%22lineStyle%22,cid1,cid2%5D%29.%0A%0Atable%28violetMiddleLabels,%5Bid,cid1,cid2,%22label%22%5D%29.%0A%0A%0ATo%20invoke%20the%20parser:%0A%0AC%3Ejava%20%5Cvioletparser%0A%0AUsage:%20%5Cvioletparser%20%3Cin%3E.class.violet%20%0A%20%20%20%20%20%20%20%3Cout%3E.vpl.pl%0A%0A%0A%0AVioletUnParser%0AVioletClassUnParser%20--%20%5Cvioletunparser%20maps%20a%20vpl%20database%0Ato%20a%20Violet%20Class%20diagram%20file%20%28%3CX%3E.class.violet%29:%0A%0AC%3Ejava%20%5Cvioletunparser%0A%0AUsage:%20%5Cvioletunparser%20%3CX%3E.vpl.pl%20%0A%20%20%20%20%20%20%20%20%5B%3CX%3E.class.violet%5D%0A%20%20%20%20%20%20%20output%20file%20defaults%20to%20%0A%20%20%20%20%20%20%20%3CX%3E.class.violet%20if%20unspecified%0A%0A%0A%0AYumlParser%0AYumlClassParser%20--%20%5Cyumlparser%20maps%20a%20Yuml%20specification%0Afile%20%28%3CX%3E.yuml.yuml%29%20to%20a%20ypl%20database.%20%20The%20ypl%20schema%20is%20in%20libpl/ypl.schema.pl:%0A%0Adbase%28vpl,%5BvioletMiddleLabels,violetAssociation,%0A%20%20%20%20%20%20%20%20%20%20%20violetInterface,violetClass%5D%29.%0A%0Atable%28violetClass,%5Bid,%22name%22,%22fields%22,%22methods%22,x,y%5D%29.%0Atable%28violetInterface,%5Bid,%22name%22,%22methods%22,x,y%5D%29.%0Atable%28violetAssociation,%5Bid,%22role1%22,%22arrow1%22,type1,%0A%20%20%20%20%20%20%20%20%20%22role2%22,%22arrow2%22,type2,%22bentStyle%22,%0A%20%20%20%20%20%20%20%20%20%22lineStyle%22,cid1,cid2%5D%29.%0A%0Atable%28violetMiddleLabels,%5Bid,cid1,cid2,%22label%22%5D%29.%0A%0A%0ATo%20invoke%20the%20parser:%0A%0AC%3Ejava%20%5Cyumlparser%0A%0AUsage:%20%5Cyumlparser%20%3CIN%3E.yuml.yuml%20%20%3COUT%3E.vpl.pl%0A%0A%0AYumlUnParser%0AYumlClassUnParser%20--%20%5Cyumlunparser%20maps%20a%20ypl%20database%0Ato%20a%20Yuml%20specification%20file%20%28%3CX%3E.yuml.yuml%29:%0A%0AC%3Ejava%20%5Cyumlunparser%0A%0AUsage:%20%5Cyumlunparser%20%3CX%3E.ypl.pl%20%5B%3CX%3E.yuml.yuml%5D%0A%20%20%20%20%20%20%20output%20file%20defaults%20to%20%3CX%3E.yuml.yuml%20%0A%20%20%20%20%20%20%20if%20unspecified%0A%0AClosing%0A%0AMDELite%20is%20a%20work%20in%20progress.%20%20It%20is%20possible%20that%20this%20documentation%0Amay%20get%20out-of-date%20with%20code%20releases.%20%20If%20so,%20please%20report%20them%20to%20me%20%0A---%20batory@cs.utexas.edu%0A%0A%0AMDELite%20Manual%20%0A%0ADon%20Batory%0ADepartment%20of%20Computer%20Science%0AThe%20University%20of%20Texas%20at%20Austin%0AAustin,%20TX,%20USA%0Abatory@cs.utexas.edu%0A%0A%0A%0AMDELite%20%20is%20an%20alternative%20to%20Eclipse%20for%20teaching%20and%20exploring%20concepts%20in%0AModel%20Driven%20Engineering%20%28MDE%29.%20%20Rather%20than:%0A%0AStoring%20models%20and%20metamodels%20as%20obscure%20XML%20documents,%20MDELite%20%20encodes%20them%0Aas%20readable%20relational%20databases%20expressed%20as%20elementary%20facts;%20%20Using%20%20Object%0AConstraint%20Language%20%28OCL%29%20to%20express%20constraints,%20MDELite%20uses%20Java%20Streams;%0AWriting%20model-to-model%20%28M2M%29%20transformations%20in%20the%20Atlas%20Transformation%0ALanguage%20%28ATL%29,%20an%20outgrowth%20of%20OCL,%20MDELite%20relies%20on%20Java;%20and%20Using%20yet%20another%20language/tool%20for%20model-2-text%20M2T%20translations,%20%0AMDELite%20again%20relies%20on%20Java.%20%20%0A%0AHere%20is%20an%20overview%20of%20this%20manual:%0A%0A%0A%20%20%20Installation%20of%20MDELite%0A%20%20%20MDELite-Relational%20Schemas%0A%20%20%20MDELite-Relational%20Databases%0A%20%20%20MDELite%20Tools%0A%0A%0A%0Ainstallation%0A%0AYou%20can%20download%20MDELite%20from:%20%0A%0Ahttp://www.cs.utexas.edu/users/schwartz/MDELite/index.html%0A%0A%0AThe%20MDELite%20directory%20and%20executable%20contains:%0A%0A%0ADocs%20--%20documentation,%20including%20this%20manual,%0A%20%20%20lib%20--%20a%20library%20of%20jar%20files%20needed%20by%20MDELite,%0A%20%20%20libpl%20--%20a%20library%20of%20predefined%20schemas,%20and%0A%20%20%20Tool.jar%20--%20the%20MDELite%20jar.%0A%0A%0A%0A%0ATo%20install%20MDELite,%20just%20place%20Tool.jar%20on%20your%20CLASSPATH.%20In%20Windows,%20the%20incantation%20to%20do%20so%20is:%0A%5Cvspace%7B.5em%0A%0A%0A%0A%3E%20set%20CLASSPATH=%5C%CLASSPATH%5C%;C:$%5Cbackslash%7B$xfer$%5Cbackslash%7B$dist$%5Cbackslash%7B$%5CTTool%7B.jar%0A%0A%0A%0A%0Awhere%20C:$%5Cbackslash%20xfer%5Cbackslash%20dist$%20is%20the%20absolute%20path%20to%20the%20directory%20containing%20%5CTTool.jar.%0ATo%20check%20to%20see%20if%20you%20did%20the%20above%20tasks%20correctly,%20run%20the%20program%0A%5Cverifyinstall:%0A%0A%0A%0A%0A%0A%0A%0A%5Csection%7BMDELite-Relational%20Schemassec:schemas%0A%0AIn%20MDE-speak,%20a%20model%20conforms%20to%20a%20metamodel.%20%20In%20MDELite-speak,%20a%20metamodel%20is%20a%20relational%20schema;%20a%20relational%20database%20is%20a%20model%20that%20conforms%20to%20its%20schema.%20%20%28There%20are%20constraints%20that%20are%20associated%20with%20a%20database%20schema,%20which%20we%20cover%20later%20in%20%0A%5Csect%7Butilities.%29%0A%0AMDELite%20allows%20you%20to%20outline%20a%20relational%20schema%20in%20a%20way%20inspired%20by%20Prolog%20facts.%20%20Here%20is%20a%0Atypical%20%60short%27%20declaration%20in%20school.ooschema.pl:%0A%0A%0A%20%20%20%20dbase%28school,%5Bperson,professor,department,student%5D%29.%0A%0A%20%20%20%20table%28person,%5Bid,%22name%22%5D%29.%0A%20%20%20%20table%28professor,%5Bdeptid%5D%29.%0A%20%20%20%20table%28department,%5Bid,%22name%22,%22building%22%5D%29.%0A%20%20%20%20table%28student,%5Butid%5D%29.%0A%0A%20%20%20%20subtable%28person,%5Bprofessor,student%5D%29.%0A%0A%0A%0A%0AThe%20above%20means:%0A%0A%20%20%20The%20name%20of%20this%20schema%20is%20school.%20%20It%20contains%20four%20tables:%20person,%20professor,%20department,%20student;%0A%20%20%20Every%20table%20has%20a%20name%20and%20a%20list%20of%20columns%20%28attributes%29.%20The%20person%20table%20has%20two%20attributes:%20id%20and%20%60%60name%27%27;%20and%0A%20%20%20Tables%20can%20be%20arranged%20in%20an%20inheritance%20hierarchy.%20%20The%20subtable%20declaration%20%0Asays%20classes%20professor%20and%20student%20are%20subtables%20of%20person.%0A%0A%0A%0AThere%20are%20three%20important%20conventions%20used%20in%20MDELite%20tables:%0A%20%20%20The%20first%20attribute%20of%20an%20MDELite%20table%20is%20an%20identifier%20field%20whose%0ATname%20need%20not%20be%20%60id%27;%0A%20%20%20There%20are%20two%20kinds%20of%20fields%20in%20MDELite%20table%20schemas:%20those%20with%20unquoted%20attribute%20names%20and%20those%20with%20quoted%20names.%20A%20quoted-name%20field%20means%20that%20all%20of%20its%20values%20must%20be%20quoted%20%28single-or-double%29;%20an%20unquoted-name%20field%20means%20that%20all%20of%20its%20values%20must%20be%20unquoted;%0A%20%20%20An%20$n$-tuple%20of%20a%20table%20$t$%20is%20written%20as%20a%20prolog%20fact:%20$t%28v_1%20%5Cldots%20v_n%29$.%20%20Some%20person%20tuples%20might%20be:%20%20%0A%0A%0A%20%20%20%20%20%20person%28p1,%27Don%27%29.%0A%20%20%20%20%20%20person%28p2,%27Barack%20Obama%27%29.%0A%0A%0A%0AValues%20of%20a%20tuple%20are%20listed%20in%20the%20order%20that%20their%20column/attributes%20are%20listed%20in%20their%20table%20definition.%20%20%0A%0A%0A%%20%20%20Tables%20can%20be%20arranged%20in%20an%20inheritance%20hierarchy,%20which%20are%20specified%20by%20subtable%20declarations%20like:%20%20%0A%%0A%%0A%20%20%20%20%20%20%subtable%28person,%5Bprofessor,student%5D%29.%0A%%0A%%0A%%0A%This%20declaration%20says%20that%20the%20subtables%20of%20person%20are%20pro%5C-fessor%20and%20student.%20%20Equivalently,%20every%20professor%20and%20student%20is%20a%20person.%0A%0A%0AMDELite%20uses%20a%20more%20elaborate%20definition%20of%20a%20schema.%20%20You%20can%20produced%20this%20schema%20by%20running:%0A%0A%0A%20%20%3E%20java%20%5Cootoschema%7B%20school.ooschema.pl%0A%20%20%20%20%20%20%20%20%20//%20school.schema.pl%20produced%0A%09%09%09%09%09%0A%20%20%3E%20type%20school.schema.pl%0A%20%20dbase%28school,%5Bperson,professor,department,student%5D%29.%0A%0A%20%20table%28person,%5Bid,%22name%22%5D%29.%0A%20%20table%28professor,%5Bid,%22name%22,deptid%5D%29.%0A%20%20table%28department,%5Bid,%22name%22,%22building%22%5D%29.%0A%20%20table%28student,%5Bid,%22name%22,utid%5D%29.%0A%0A%20%20subtable%28person,%5Bprofessor,student%5D%29%0A%0A%0A%0AThe%20only%20difference%20between%20a%20.ooschema%20file%20and%20its%20.schema%20counterpart%20is%20that%20attributes%20of%20super-tables%20are%20propagated%20to%0Aits%20sub-tables,%20recursively.%20%20Above,%20every%20professor%20tuple%20and%20every%20student%20tuple%20will%20have%20person%20attributes.%0A%0A%5Csection%7BMDELite-Relational%20Databasessec:databases%0A%0AA%20MDELite%20database%20is%20an%20instance%20of%20a%20.schema.pl%20file.%20%20Recall%20the%20school.schema.pl%20of%20the%20previous%20section.%20%20An%20instance%20of%20this%20database%20is%20a%20separate%20file,%20named%20my.school.pl,%20where%20%27my%27%20is%20the%20name%20of%20the%20instance,%20%27school%27%20is%20the%20schema,%20and%20%27pl%27%20denotes%20an%20MDELite%20file.%20%20Here%20is%20the%20my.school.pl%20database:%0A%0A%0Adbase%28school,%5Bperson,professor,department,student%5D%29.%0A%0Atable%28person,%5Bid,%22name%22%5D%29.%0A%0Atable%28professor,%5Bid,%22name%22,deptid%5D%29.%0Aprofessor%28p1,%27don%27,d1%29.%0Aprofessor%28p2,%27Robert%27,d1%29.%0Aprofessor%28p3,%27Lorenzo%27,d2%29.%0Aprofessor%28p4,%27kelly%27,d3%29.%0A%0Atable%28department,%5Bid,%22name%22,%22building%22%5D%29.%0Adepartment%28d1,%27computer%20science%27,%27gates%20dell%20complex%27%29.%0Adepartment%28d2,%27computer%20science%27,%27gates%20hall%27%29.%0Adepartment%28d3,%27computer%20science%27,%27Bahen%20Centre%27%29.%0A%0Atable%28student,%5Bid,%22name%22,utid%5D%29%0Astudent%28s1,%27zeke%27,%27zh333%27%29.%0Astudent%28s2,%27Brenda%27,%27UTgreat%27%29.%0Astudent%28s3,%27Thomas%27,%27astronaut201%27%29.%0A%0A%0A%0A%0AThe%20above%20means:%0A%0A%20%20%20The%20student%20table%20has%203%20tuples,%20department%20has%203%20tuples,%20and%20professor%20has%204.%0ATable%20person%20has%200%20%28no%29%20tuples.%20%20This%20is%20like%20Java:%20objects/tuples%20are%20listed%20for%20the%0Aclass/table%20in%20which%20they%20were%20created.%20%20%0A%20%20%20The%20database%20schema%20definition%20is%20always%20included%20in%20a%20database%20file%20%28that%27s%20the%20dbase%28%29%20fact%29.%0A%20%20%20The%20schema%20definition%20for%20each%20table%20is%20always%20included%20in%20a%20database%20file%20%28that%27s%20the%20table%28%29%20facts%29.%0A%20%20%20The%20tuples%20of%20the%20table%20follow%20immediately%20after%20its%20table%28%29%20fact.%20%20An%20absence%20of%20tuple%20declarations%20%0Asays%20the%20table%20is%20empty.%0A%0A%0AMDELite%20does%20not%20automatically%20ensure%20that%20schema%20declarations%20of%20the%20database%20match%20that%20of%20the%20corresponding%20.schema%20file.%20%20So%20beware.%0AMDELite%20has%20a%20tool%20that%20verifies%20%28or%20reports%20differences%29%20between%0Aa%20database%20schema%20and%20its%20database.%20%20To%20verify%20that%20the%20my.school.pl%20database%20conforms%20to%20school.schema.pl,%20run%20the%20%5CinstanceOf%20tool%20below.%20%20In%20this%20case,%20conformance%20holds%20as%20there%20is%20silence%20for%20output.%0A%0A%3Ejava%20%5CinstanceOf%20my.school.pl%20school.schema.pl%0A%0A%0A%0A%0A%0AMDELite%20Tools%0A%0AMDELite%20offers%20the%20following%20tools:%0A%0A%20%20%20All%0A%20%20%20InstanceOf%0A%20%20%20Conformancermance%0A%20%20%20M2M%7BModel-to-Model%20Transformation%0A%20%20%20OOSchema%7BOOSchema%20to%20Schema%20Translation%0A%20%20%20RDB%7BReading%20Databases%0A%20%20%20RSC%7BReading%20Schemas%0A%20%20%20Version%7BVersion%0A%20%20%20Violet%7BViolet%0A%20%20%20VioletParser%7BViolet%20Class%20Parser%0A%20%20%20VioletUnParser%7BViolet%20Class%20UnParser%0A%20%20%20YumlParser%7BYuml%20Class%20Parser%0A%20%20%20YumlUnParser%7BYuml%20Class%20UnParser%0A%0A%0AAll%0AAll%20--%20List%20the%20MDELite%20tools,%20like%20the%20above.%0A%0A%0AC%3Ejava%20%5Call%0A%0A%0A%0AInstanceOf%0AInstanceOf%20--%20This%20tool%20verifies%20that%20a%20database%20is%20an%20instance%20of%20its%20schema.%20%20We%20saw%20a%20use%20for%20this%20in%20%0Aan%20earlier%20section.%20%20To%20invoke%20this%20test,%20use%20the%20code%20below.%20%20Silence%20is%20returned%20if%20there%20are%20no%20errors.%0A%0A%0AC%3Ejava%20%5CinstanceOf%0A%0AUsage:%20%5CinstanceOf%20%3CS%3E.schema.pl%20%3CY%3E.%3CS%3E.pl%0A%20%20%20%20%20%20%20confirms%20that%20database%20%3CY%3E%20is%20an%20instance%20of%20%3CS%3E%0A%0A%0A%0AConformance%0AModel%20Conformance%20--%20%20MDELite%20relies%20on%20you%20writing%20a%20Java%20program%20%28typically%20using%20Java%20streams%20and%20MDELite-tool%20support%29%20%0Ato%20write%20and%20evaluate%20constraints%20and%20to%20report%20errors.%20%20%28The%20Object%20Constraint%20Language%20%28OCL%29%20is%20an%20awkward%20%0Astream%20language;%20Java%20streams%20are%20more%20elegant%29.%0A%0A%0AHere%20are%20two%20constraints%20on%20the%20school%20database:%0A%0A%20%20%20Person%20Name%20Constraint:%20A%20Person%27s%20name%20must%20begin%20with%20a%20capital%20letter.%0A%20%20%20Name%20Uniqueness:%20No%20two%20Persons%20have%20the%20same%20name.%0A%0A%0AA%20typical%20outline%20of%20schoolConform.java%20is%20sketched%20below.%0A%0A%0Aimport%20PrologDB.*;%0A%0Apublic%20class%20schoolConform%20%7B%0A%0A%20%20public%20static%20void%20marquee%28%29%20%7B%0A%20%20%20%20System.err.format%28%22Usage:%20%s%20%3CX%3E.school.pl%5Cn%22,%20%0A%09%09%20%20%20%20%20schoolConform.class.getName%28%29%29;%0A%20%20%20%20System.err.format%28%22%20%20%3CX%3E%20is%20name%20of%20database%5Cn%22%29;%0A%20%20%20%20System.exit%281%29;%0A%20%20%0A%0A%20%20static%20boolean%20checkCharacter%28Tuple%20t%29%20%7B%0A%20%20%20%20String%20n%20=%20t.getName%28%22name%22%29;%0A%20%20%20%20if%20%28n.length%28%29%20==%200%29%0A%20%20%20%20%20%20%20return%20true;%0A%20%20%20%20Character%20c%20=%20n.charAt%280%29;%0A%20%20%20%20return%20Character.isLowerCase%28c%29;%0A%20%20%0A%0A%20%20public%20static%20void%20main%28String%5B%5D%20args%29%20%7B%0A%20%20%20%20if%20%28args.length%20%21=%201%20%7C%7C%20%0A%20%20%20%20%20%20%20%21args%5B0%5D.endsWith%28%22.school.pl%22%29%29%20%7B%0A%20%20%20%20%20%20marquee%28%29;%0A%20%20%20%20%0A%0A%20%20%20%20DB%20db%20=%20DB.readDataBase%28args%5B0%5D%29;%0A%20%20%20%20Table%20person%20=%20db.findTableEH%28%22person%22%29;%0A%20%20%20%20ErrorReport%20er%20=%20new%20ErrorReport%28System.out%29;%0A%0A%20%20%20%20//%20Person%20Name%20Constraint%0A%20%20%20%20person.stream%28%29%0A%20%20%20%20%20%20.filter%28t%20-%3E%20checkCharacter%28t%29%29%0A%20%20%20%20%20%20.forEach%28t-%3Eer.add%28%22Person%20Name%20not%20%22%20+%0A%20%20%20%20%20%20%20%20%20%22capitalized%20%22%20+%20t.get%28%22name%22%29%29%29;%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20//%20Name%20Uniqueness%20Contraint%0A%20%20%20%20person.stream%28%29.filter%28t-%3E%20%0A%20%20%20%20%20%20person.stream%28%29%0A%20%20%20%20%20%20.filter%28g-%3E%20g.get%28%22name%22%29.equals%28t.get%28%22name%22%29%29%29%0A%20%20%20%20%20%20.count%28%29%3E1%29%0A%20%20%20%20.forEach%28t-%3Eer.add%28%22Persons%20with%20duplicate%22%20+%0A%09%09%20%20%20%20+%20%22name%20:%20%22%20+%20t.get%28%22name%22%29%29%29;%0A%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20er.printReport%28%29;%0A%20%20%20%20%20catch%20%28Exception%20e%29%20%7B%0A%20%20%20%20%20%20System.out.println%28e.getMessage%28%29%29;%0A%20%20%20%20%0A%20%20%0A%0A%0A%0A%0APerhaps%20the%20only%20thing%20strange%20is%20the%20use%20of%20class%20ErrorReport.%20%20An%20ErrorReport%20object%20maintains%20a%20list%20of%20errors%20that%20are%20posted%20to%20it%20by%20Stream%20expressions.%20%20When%20a%20report%20is%20printed%20and%20if%20at%20least%20one%20error%20was%20found,%20a%20RuntimeException%20is%20thrown.%20%20Incidentally,%0Athe%20output%20of%20this%20program%20is:%20%0A%0A%0APerson%20Name%20not%20capitalized%20don%0APerson%20Name%20not%20capitalized%20kelly%0APerson%20Name%20not%20capitalized%20zeke%0AErrors%20found%0A%0A%0A%0AFor%20further%20details%20see%20ProgrammingManual.%0A%0AM2M%0AModel%20to%20Model%20%28M2M%29%20Transformation%20--%20A%20M2M%20transformation%20in%20MDELite%20is%20a%0AJava%20program%20that%20implements%20a%0Adatabase-to-database%20transformation.%20It%20imports%20MDELite%20tools%20to%20read%20and%20write%20MDELite%20%0Aschemas%20and%20databases.%20%20Typically,%20although%20not%20required,%20it%20takes%20$2$%20arguments:%0Athe%20name%20of%20the%20input%20database%20file%20and%20the%20name%20of%20the%20output%20database%20file.%20%20Beyond%20that,%0Ahow%20you%20write%20your%20database-to-database%20transformation%20is%20up%20to%20you.%20%0AFor%20further%20information%20see%20%5CProgrammingManual%7B.%0A%0A%0AOOSchema%0AOOSchema%20Translation%20--%20%5Cootoschema%7B%20reads%20an%20input%20x.ooschema.pl%20file%20and%20converts%20it%20to%20a%20schema%20file%20x.schema.pl.%20%20Remember%20an%20ooschema%20file%20is%20a%20Java-like%20declaration%20of%20tables%20and%20their%20inheritance%20hierarchies.%20%20The%20attributes%20of%20a%20table%20are%20only%20those%20that%20are%20specific%20to%20that%20table.%20%20Flattening%20this%20schema%20propagates%20attributes%20of%20supertables%20to%20subtables.%20%20It%20is%20not%20difficut,%20but%20is%20error-prone.%20We%20saw%20an%20example%20use%20of%20%5Cootoschema%7B%20in%20the%20last%20section:%0A%0A%0A%20%3E%20java%20%5Cootoschema%0A%0A%20%20%20Usage:%20%5Cootoschema%20%3CX%3E.ooschema.pl%0A%20%20%20%20%20%20%20%20%20%20outputs%20file%20%3CX%3E.schema.pl%0A%0A%0ARDB%0AReading%20a%20Database%20--%20%5Creaddb%7B%20reads%20a%20database%20and%20reports%20errors.%20%20If%20there%20are%20no%20errors,%20silence%20is%20returned:%0A%0A%0A%20%3E%20java%20%5Creaddb%0A%0A%20%20%20Usage:%20%5Creaddb%20%3CX%3E.%3CSCHEMA%3E.pl%0A%20%20%20%20%20%20%20%20%20%20reads%20database%20%3CX%3E%20of%20type%20%3CSCHEMA%3E%20and%0A%20%20%20%20%20%20%20%20%20%20reports%20errors%0A%0AReading%20a%20Schema%20--%20%20reads%20a%20schema%20and%20reports%20errors.%20%20If%20there%20are%20no%20errors,%20silence%20is%20returned:%0A%0A%0A%20%3E%20java%20%5Creadsc%0A%0A%20%20%20Usage:%20%5Creadsc%20%3CX%3E.%3CSCH%3E.pl%0A%20%20%20%20%20%20%20%20%20%20%3CSCH%3E%20is%20%27ooschema%27%20or%20%27schema%27%0A%20%20%20%20%20%20%20%20%20%20reads%20schema%20x%20and%20reports%20errors%0A%0A%0AVersion%0AVersion%20%20--%20returns%20the%20version%20number%20of%20MDELite:%0A%0A%0A%20%3E%20java%20%5Cversion%0A%20%20%20MDELite%20version%206.0%0A%0A%0A%0A%0AViolet%0AViolet%20--%20You%20can%20invoke%20Violet%20directly%20through%20its%20jar%20file,%20but%20calling%20it%20from%20a%20command%20line%20is%20painful;%20%5Cviolet%7B%20is%20easier:%20%0A%0A%20%3E%20java%20%5Cviolet%7B%0A%20//%20spawns%20Violet%20and%20waits%20for%20Violet%20to%20close%0A%0A%0A%0A%0A%0AVioletParser%0AVioletClassParser%20--%20%5Cvioletparser%7B%20maps%20a%20Violet%20Class%20diagram%0Afile%20%28%3CX%3E.class.violet%29%20to%20a%20vpl%20database.%20%20The%20vpl%20schema%20is%20in%20libpl/vpl.schema.pl%20%0Aand%20is%20shown%20below:%%0A%0Adbase%28vpl,%5BvioletMiddleLabels,violetAssociation,%0A%20%20%20%20%20%20%20%20%20%20%20violetInterface,violetClass%5D%29.%0A%0Atable%28violetClass,%5Bid,%22name%22,%22fields%22,%22methods%22,x,y%5D%29.%0Atable%28violetInterface,%5Bid,%22name%22,%22methods%22,x,y%5D%29.%0Atable%28violetAssociation,%5Bid,%22role1%22,%22arrow1%22,type1,%0A%20%20%20%20%20%20%20%20%20%22role2%22,%22arrow2%22,type2,%22bentStyle%22,%0A%20%20%20%20%20%20%20%20%20%22lineStyle%22,cid1,cid2%5D%29.%0A%0Atable%28violetMiddleLabels,%5Bid,cid1,cid2,%22label%22%5D%29.%0A%0A%0ATo%20invoke%20the%20parser:%0A%0AC%3Ejava%20%5Cvioletparser%0A%0AUsage:%20%5Cvioletparser%20%3Cin%3E.class.violet%20%0A%20%20%20%20%20%20%20%3Cout%3E.vpl.pl%0A%0A%0A%0AVioletUnParser%0AVioletClassUnParser%20--%20%5Cvioletunparser%20maps%20a%20vpl%20database%0Ato%20a%20Violet%20Class%20diagram%20file%20%28%3CX%3E.class.violet%29:%0A%0AC%3Ejava%20%5Cvioletunparser%0A%0AUsage:%20%5Cvioletunparser%20%3CX%3E.vpl.pl%20%0A%20%20%20%20%20%20%20%20%5B%3CX%3E.class.violet%5D%0A%20%20%20%20%20%20%20output%20file%20defaults%20to%20%0A%20%20%20%20%20%20%20%3CX%3E.class.violet%20if%20unspecified%0A%0A%0A%0AYumlParser%0AYumlClassParser%20--%20%5Cyumlparser%20maps%20a%20Yuml%20specification%0Afile%20%28%3CX%3E.yuml.yuml%29%20to%20a%20ypl%20database.%20%20The%20ypl%20schema%20is%20in%20libpl/ypl.schema.pl:%0A%0Adbase%28vpl,%5BvioletMiddleLabels,violetAssociation,%0A%20%20%20%20%20%20%20%20%20%20%20violetInterface,violetClass%5D%29.%0A%0Atable%28violetClass,%5Bid,%22name%22,%22fields%22,%22methods%22,x,y%5D%29.%0Atable%28violetInterface,%5Bid,%22name%22,%22methods%22,x,y%5D%29.%0Atable%28violetAssociation,%5Bid,%22role1%22,%22arrow1%22,type1,%0A%20%20%20%20%20%20%20%20%20%22role2%22,%22arrow2%22,type2,%22bentStyle%22,%0A%20%20%20%20%20%20%20%20%20%22lineStyle%22,cid1,cid2%5D%29.%0A%0Atable%28violetMiddleLabels,%5Bid,cid1,cid2,%22label%22%5D%29.%0A%0A%0ATo%20invoke%20the%20parser:%0A%0AC%3Ejava%20%5Cyumlparser%0A%0AUsage:%20%5Cyumlparser%20%3CIN%3E.yuml.yuml%20%20%3COUT%3E.vpl.pl%0A%0A%0AYumlUnParser%0AYumlClassUnParser%20--%20%5Cyumlunparser%20maps%20a%20ypl%20database%0Ato%20a%20Yuml%20specification%20file%20%28%3CX%3E.yuml.yuml%29:%0A%0AC%3Ejava%20%5Cyumlunparser%0A%0AUsage:%20%5Cyumlunparser%20%3CX%3E.ypl.pl%20%5B%3CX%3E.yuml.yuml%5D%0A%20%20%20%20%20%20%20output%20file%20defaults%20to%20%3CX%3E.yuml.yuml%20%0A%20%20%20%20%20%20%20if%20unspecified%0A%0AClosing%0A%0AMDELite%20is%20a%20work%20in%20progress.%20%20It%20is%20possible%20that%20this%20documentation%0Amay%20get%20out-of-date%20with%20code%20releases.%20%20If%20so,%20please%20report%20them%20to%20me%20%0A---%20batory@cs.utexas.edu%0A%0Abatory@cs.utexas.edu"><span style="font-family: Helvetica,Arial,sans-serif;"></span></a><br style="font-family: Helvetica,Arial,sans-serif;"></div><br><br style="font-family: Helvetica,Arial,sans-serif;"><span style="font-family: Helvetica,Arial,sans-serif;">MDELite&nbsp;is an alternative to Eclipse for teaching and exploring concepts in</span><span style="font-family: Helvetica,Arial,sans-serif;"> <span style="font-weight: bold; color: rgb(0, 0, 153);">Model Driven Engineering (MDE)</span>.&nbsp; Rather than:</span><br style="font-family: Helvetica,Arial,sans-serif;"><ul><li><span style="font-family: Helvetica,Arial,sans-serif;">Storing models and metamodels as obscure XML documents, MDELite&nbsp; encodes them</span><span style="font-family: Helvetica,Arial,sans-serif;"> as readable relational database text files;&nbsp; </span></li><li><span style="font-family: Helvetica,Arial,sans-serif;">Using <span style="font-weight: bold; color: rgb(0, 0, 153);">Object</span></span><span style="font-family: Helvetica,Arial,sans-serif;"><span style="font-weight: bold; color: rgb(0, 0, 153);"> Constraint Language (OCL)</span> to express constraints, MDELite uses relational algebra operations written in Java;</span></li><li><span style="font-family: Helvetica,Arial,sans-serif;">Writing <span style="font-weight: bold; color: rgb(0, 0, 153);">Model-to-Model (M2M)</span> transformations using</span><span style="font-family: Helvetica,Arial,sans-serif;"> customized MDE languages, again MDELite relies on&nbsp;</span><span style="font-family: Helvetica,Arial,sans-serif;">relational algebra operations written in Java</span><span style="font-family: Helvetica,Arial,sans-serif;">; and </span></li><li><span style="font-family: Helvetica,Arial,sans-serif;">Using yet another language/tool for <span style="font-weight: bold; color: rgb(0, 0, 153);">Model-to-Text (M2T)</span> and <span style="font-weight: bold; color: rgb(0, 0, 153);">Text-to-Model (T2M)</span> transformations, </span><span style="font-family: Helvetica,Arial,sans-serif;">MDELite again relies on Java. &nbsp;</span></li></ul><span style="font-family: Helvetica,Arial,sans-serif;">Here is an overview of this manual:</span><br style="font-family: Helvetica,Arial,sans-serif;"><ul><li><a href="#Installation"><span style="font-family: Helvetica,Arial,sans-serif;">Installation of MDELite</span></a></li><li><a href="#MDELite-Relational_Schemas"><span style="font-family: Helvetica,Arial,sans-serif;">Basics of MDELite-Relational Schemas</span></a></li><li><a href="#MDELite-Relational_Databases"><span style="font-family: Helvetica,Arial,sans-serif;">Basics of MDELite-Relational Databases</span></a></li><li><a href="#MDELite_Tools"><span style="font-family: Helvetica,Arial,sans-serif;">Overview of MDELite Tools</span></a></li><li><span style="font-family: Helvetica,Arial,sans-serif;"><a href="#Closing">Closing Thoughts</a><br></span></li></ul><h2><a name="Installation"></a><span style="font-family: Helvetica,Arial,sans-serif;">Installation of MDELite</span></h2><span style="font-family: Helvetica,Arial,sans-serif;">You can download MDELite from&nbsp; </span><a href="http://www.cs.utexas.edu/users/schwartz/MDELite/index.html"><span style="font-family: Helvetica,Arial,sans-serif;">http://www.cs.utexas.edu/users/schwartz/MDELite/index.html</span></a>.<span style="font-family: Helvetica,Arial,sans-serif;"> The MDELite directory and executable contains:<br><br></span><span style="font-family: Helvetica,Arial,sans-serif;"></span><table style="width: 569px; height: 102px; text-align: left; margin-left: auto; margin-right: auto;" border="1" cellpadding="2" cellspacing="2"><tbody><tr><td><img style="width: 93px; height: 90px;" alt="" src="figures/mdelitejar.jpg"></td><td><ul><li><span style="font-family: Helvetica,Arial,sans-serif;"><span style="font-weight: bold;">Docs</span> -- documentation, including this manual,</span></li><li><span style="font-family: Helvetica,Arial,sans-serif;"><span style="font-weight: bold;">lib</span> -- a library of jar files needed by MDELite,</span></li><li><span style="font-family: Helvetica,Arial,sans-serif;"><span style="font-weight: bold;">libpl</span> -- a library of predefined schemas, and</span></li><li><span style="font-family: Helvetica,Arial,sans-serif;"><span style="font-weight: bold;">MDELite.jar</span> -- the MDELite jar.</span></li></ul></td></tr></tbody></table><br style="font-family: Helvetica,Arial,sans-serif;"><span style="font-family: Helvetica,Arial,sans-serif;">To install MDELite, just place <span style="font-weight: bold;">MDELite.jar</span> on your CLASSPATH. In Windows, the incantation to do so is:</span><br style="font-family: Helvetica,Arial,sans-serif;"><pre style="font-family: monospace; margin-left: 40px; font-weight: bold;"><big>&gt; set CLASSPATH=%CLASSPATH%;C:\xfer\dist\MDELite.jar</big></pre><span style="font-family: Helvetica,Arial,sans-serif;"><a name="ViUsage"></a>where <span style="font-weight: bold;">C:\xfer\dist</span> is the absolute path to the directory containing <span style="font-weight: bold;">MDELite.jar</span>.</span><span style="font-family: Helvetica,Arial,sans-serif;"> &nbsp;To check to see if you did the above tasks correctly, run the program <span style="font-weight: bold;">MDL.VerifyInstall:</span></span><span style="font-family: Helvetica,Arial,sans-serif;"><br></span><span style="font-family: Helvetica,Arial,sans-serif;"></span><pre style="margin-left: 40px; font-weight: bold;"><big><span style="font-family: monospace;">Violet should be running now.
If not, something is wrong.
Otherwise, please close Violet,
and MDELite Ready to Use! </span><span style="font-family: monospace;"></span></big></pre><h2><a name="MDELite-Relational_Schemas"></a><span style="font-family: Helvetica,Arial,sans-serif;">MDELite-Relational Schemas</span></h2><span style="font-family: Helvetica,Arial,sans-serif;">In MDE-speak, a model conforms to a metamodel.&nbsp; In MDELite-speak, a metamodel is a relational schema; a relational database is a model that conforms to its schema.&nbsp; (There are constraints that are associated with a database schema, which we cover later in <a href="#MDELite_Tools">Tools</a></span><a href="#MDELite_Tools"><span style="font-family: Helvetica,Arial,sans-serif;">.</span></a><span style="font-family: Helvetica,Arial,sans-serif;"> &nbsp;MDELite allows you to outline a relational schema in a way inspired by Prolog facts.&nbsp; Here is a</span><span style="font-family: Helvetica,Arial,sans-serif;"> typical `short' declaration in <span style="font-weight: bold;">school.ooschema.pl</span>:</span><br style="font-family: Helvetica,Arial,sans-serif;"><pre style="margin-left: 40px; font-weight: bold;"><big>dbase(school,[person,professor,department,student]).

table(person,[id,"name"]).
table(professor,[deptid]).
table(department,[id,"name","building"]).
table(student,[utid]).

subtable(person,[professor,student]). <span style="font-family: Helvetica,Arial,sans-serif;"></span></big></pre><span style="font-family: Helvetica,Arial,sans-serif;">The above means:</span><br style="font-family: Helvetica,Arial,sans-serif;"><ul><li><span style="font-family: Helvetica,Arial,sans-serif;">The name of this schema is school.&nbsp; It contains four tables: person, professor, department, student;</span></li><li><span style="font-family: Helvetica,Arial,sans-serif;">Every table has a name and a list of columns (attributes). The person table has two attributes: id and ``name''; and</span></li><li><span style="font-family: Helvetica,Arial,sans-serif;">Tables can be arranged in an inheritance hierarchy.&nbsp; The subtable declaration says classes professor and student are subtables of person.</span></li></ul><span style="font-family: Helvetica,Arial,sans-serif;">Three important conventions used in MDELite are:</span><br style="font-family: Helvetica,Arial,sans-serif;"><ol><li><span style="font-family: Helvetica,Arial,sans-serif;">The first attribute of <span style="font-weight: bold;">every</span> MDELite table is an identifier column whose</span><span style="font-family: Helvetica,Arial,sans-serif;">&nbsp;name need not be `id';</span></li><li><span style="font-family: Helvetica,Arial,sans-serif;">There are two kinds of fields in MDELite table schemas: those with unquoted attribute names and those with quoted names. A quoted-name field means that all of its values must be quoted (single-or-double); an unquoted-name field means that all of its values must be unquoted;</span></li><li><span style="font-family: Helvetica,Arial,sans-serif;">An&nbsp;<span style="font-style: italic;">n</span>-tuple of a table&nbsp;t is written as a prolog fact:&nbsp;t(v<span style="font-style: italic;">1</span> ... v<span style="font-style: italic;">n</span>).&nbsp; Some person tuples might be: &nbsp;</span></li></ol><pre style="margin-left: 40px; font-weight: bold;"><big>person(p1,'Don').<br>person(p2,'Barack Obama').<br>person(p3,"Ms Piggy").</big></pre><span style="font-family: Helvetica,Arial,sans-serif;">Values of a tuple are listed in the order that their column/attributes are listed in their table definition. &nbsp;</span><br style="font-family: Helvetica,Arial,sans-serif;"><span style="font-family: Helvetica,Arial,sans-serif;"></span><br style="font-family: Helvetica,Arial,sans-serif;"><span style="font-family: Helvetica,Arial,sans-serif;"><a name="oos"></a>MDELite actually uses a more elaborate definition of a schema.&nbsp; You can produced this schema by running:</span><span style="font-family: monospace;"><br></span><pre style="font-family: monospace; margin-left: 40px; font-weight: bold;"><big>&gt; java MDL.OO2schema school.ooschema.pl<br><br><span style="color: rgb(51, 51, 255);">(silently produces school.schema.pl)</span></big></pre><pre style="font-family: monospace; margin-left: 40px; font-weight: bold;"><big>&gt; type school.schema.pl</big></pre><pre style="font-family: monospace; margin-left: 40px; font-weight: bold;"><big>Person name not capitalized: don
Person name not capitalized: kelly
Person name not capitalized: zeke </big></pre><span style="font-family: Helvetica,Arial,sans-serif;">The only difference between an <span style="font-weight: bold;">.ooschema</span> file and its <span style="font-weight: bold;">.schema</span> counterpart is that attributes of super-tables are propagated to</span><span style="font-family: Helvetica,Arial,sans-serif;"> its sub-tables, recursively.&nbsp; Above, every professor tuple and every student tuple will have person attributes.<br><br>Finally, <span style="font-weight: bold; color: rgb(0, 0, 153);">a new addition</span> has been added to TableSchemas. &nbsp;Attributes can not only have names, but be given "type" indicators (as in the name of the Table whose identifiers they are to contain). &nbsp;So &nbsp;instead of schemas like:<br></span><span style="font-family: Helvetica,Arial,sans-serif;"></span><pre style="margin-left: 40px;"><span style="font-family: monospace;"><big style="font-weight: bold;">Table(Person,[id,name,worksin]).<br>Table(Department,[id,name]).</big><br></span></pre><span style="font-family: Helvetica,Arial,sans-serif;">Where you have to infer that worksin is a field that points to a Department tuple, you can now write:</span><br><pre style="margin-left: 40px;"><span style="font-family: monospace;"></span><span style="font-family: monospace;"><big><span style="font-weight: bold;">Table(Person[id,name,worksin:Department]).</span><br style="font-weight: bold;"><span style="font-weight: bold;">Table(Department,[id,name]).</span></big></span></pre><span style="font-family: Helvetica,Arial,sans-serif;">To remind you that <span style="font-weight: bold;">worksin</span> takes <span style="font-weight: bold;">Department</span> ids as its column value. &nbsp;MDELite does nothing with this information,, but maybe someday some automated checking can be done.</span><br style="font-family: Helvetica,Arial,sans-serif;"><h2><a name="MDELite-Relational_Databases"></a><span style="font-family: Helvetica,Arial,sans-serif;">MDELite-Relational Databases</span></h2><span style="font-family: Helvetica,Arial,sans-serif;">A MDELite database is an instance of a <span style="font-weight: bold;">.schema.pl</span> file.&nbsp; Recall the <span style="font-weight: bold;">school.schema.pl</span> of the previous section.&nbsp; An instance of this database is a separate file, named <span style="font-weight: bold;">my.school.pl</span>, where 'my' is the name of the instance, '<span style="font-weight: bold;">school</span>' is the schema, and '<span style="font-weight: bold;">pl</span>' denotes an MDELite file.&nbsp; Here is the <span style="font-weight: bold;">my.school.pl</span> database text file:</span><br style="font-family: Helvetica,Arial,sans-serif;"><pre style="font-family: monospace; margin-left: 40px; font-weight: bold;"><big>dbase(school,[person,professor,department,student]).

table(person,[id,"name"]).

table(professor,[id,"name",deptid]).
professor(p1,'don',d1).
professor(p2,'Robert',d1).
professor(p3,'Lorenzo',d2).
professor(p4,'kelly',d3).

table(department,[id,"name","building"]).
department(d1,'computer science','gates dell complex').
department(d2,'computer science','gates hall').
department(d3,'computer science','Bahen Centre').

table(student,[id,"name",utid]).
student(s1,'zeke','zh333').
student(s2,'Brenda','UTgreat').
student(s3,'Thomas','astronaut201').

subtable(person,[professor,student]). <br></big></pre><span style="font-family: Helvetica,Arial,sans-serif;">The above means:</span><br style="font-family: Helvetica,Arial,sans-serif;"><ul><li><span style="font-family: Helvetica,Arial,sans-serif;">The student table has 3 tuples, department has 3 tuples, and professor has 4.</span></li><li><span style="font-family: Helvetica,Arial,sans-serif;">Table person has 0 (no) explicit tuples.&nbsp; This is like Java: objects/tuples are listed for the class/table in which they were created. &nbsp;The tuples of person is the union of the tables of it and its subtables.</span></li><li><span style="font-family: Helvetica,Arial,sans-serif;">The database schema definition is always included in a database file (that's the <span style="font-weight: bold;">dbase</span> fact).</span></li><li><span style="font-family: Helvetica,Arial,sans-serif;">The schema definition for each table is always included in a database file (that's the <span style="font-weight: bold;">table</span> facts).</span></li><li><span style="font-family: Helvetica,Arial,sans-serif;">The tuples of the table follow (not necessarily immediately) after its <span style="font-weight: bold;">table</span> fact.&nbsp; An absence of tuple declarations says the table is empty</span></li></ul><span style="font-family: Helvetica,Arial,sans-serif;"><a name="io"></a>MDELite does not automatically ensure that schema declarations of the database match that of the corresponding <span style="font-weight: bold;">.schema</span> file.&nbsp; So beware.</span><span style="font-family: Helvetica,Arial,sans-serif;"> MDELite has a tool that verifies (or reports differences) between</span><span style="font-family: Helvetica,Arial,sans-serif;"> a database schema and its database.&nbsp; To verify that the <span style="font-weight: bold;">my.school.pl</span> database conforms to <span style="font-weight: bold;">school.schema.pl</span>, run the instanceOf tool below.&nbsp; In this case, conformance holds as there is silence for output.</span><br style="font-family: Helvetica,Arial,sans-serif;"><pre style="margin-left: 40px; font-family: monospace;"><big><span style="font-weight: bold;">&gt;java MDL.instanceOf my.school.pl school.schema.p</span>l</big></pre><h2><a name="MDELite_Tools"></a><span style="font-family: Helvetica,Arial,sans-serif;">MDELite Tools</span></h2><span style="font-family: Helvetica,Arial,sans-serif;">MDELite offers the following tools, some of them are listed below:</span><br style="font-family: Helvetica,Arial,sans-serif;"><ul><li><a href="#All"><span style="font-family: Helvetica,Arial,sans-serif;">All</span></a></li><li><span style="font-family: Helvetica,Arial,sans-serif;"><a href="#Catalina">Catalina</a><br></span></li><li><a href="#InstanceOf"><span style="font-family: Helvetica,Arial,sans-serif;">InstanceOf</span></a></li><li><a href="#Conformance"><span style="font-family: Helvetica,Arial,sans-serif;">Conformance</span></a></li><li><a href="#Model_to_Model_M2M_Transformations"><span style="font-family: Helvetica,Arial,sans-serif;">Model-to-Model Transformations</span></a></li><li><a href="#OOSchema"><span style="font-family: Helvetica,Arial,sans-serif;">OOSchema to Schema Translation</span></a></li><li><a href="#Reading_a_Database"><span style="font-family: Helvetica,Arial,sans-serif;">Reading Databases</span></a></li><li><a href="#Reading_a_Schema"><span style="font-family: Helvetica,Arial,sans-serif;">Reading Schemas</span></a></li><li><span style="font-family: Helvetica,Arial,sans-serif;">Reading Tables<br></span></li><li><span style="font-family: Helvetica,Arial,sans-serif;"><a href="#Verify_Install">Verify Install</a><br></span></li><li><a href="#Version"><span style="font-family: Helvetica,Arial,sans-serif;">Version</span></a></li><li><a href="#Violet"><span style="font-family: Helvetica,Arial,sans-serif;">Violet Tools</span></a></li><li><span style="font-family: Helvetica,Arial,sans-serif;"><a href="#Yuml_and_its_MDELite_Tools">Yuml Tools</a></span></li><span style="font-family: Helvetica,Arial,sans-serif;"></span></ul><h3><a name="All"></a><span style="font-family: Helvetica,Arial,sans-serif;">All</span></h3><span style="font-family: Helvetica,Arial,sans-serif;">Lists the MDELite tools, like the above.</span><br style="font-family: Helvetica,Arial,sans-serif;"><pre style="font-family: monospace; margin-left: 40px; font-weight: bold;"><big>&gt; java MDL.All</big></pre><h3><a name="InstanceOf"></a><span style="font-family: Helvetica,Arial,sans-serif;">InstanceOf</span></h3><span style="font-family: Helvetica,Arial,sans-serif;">Verifies that a database is an instance of its schema.&nbsp; We saw a use for this operation</span><span style="font-family: Helvetica,Arial,sans-serif;"> <a href="#io">earlier</a>.&nbsp; To invoke this test, use the incantation&nbsp; below.&nbsp; Silence is returned if there are no errors.</span><br style="font-family: Helvetica,Arial,sans-serif;"><pre style="font-family: monospace; margin-left: 40px; font-weight: bold;"><big>&gt; java MDL.InstanceOf<br><br></big><big><span style="font-family: monospace;">Usage: MDL.InstanceOf S.schema.pl Y.S.pl
       confirms that database Y is an instance of S </span></big></pre><h3><a name="Catalina"></a><span style="font-family: Helvetica,Arial,sans-serif;">Catalina</span></h3><span style="font-family: Helvetica,Arial,sans-serif;">Tool that bootstraps (generates) MDELite tools from a Violet Class Diagram specification.<br></span><span style="font-family: Helvetica,Arial,sans-serif;"></span><pre style="margin-left: 40px;"><big style="font-weight: bold;"><span style="font-family: monospace;">&gt; java MDL.Catalina<br><br>Usage: Boot.MDELite.catalina option args...
       all               state -> meta,java
       validateViolet    state -> T/F
       validateMeta      state -> meta
       quick             meta -> java </span></big></pre><h3><a name="Conformance"></a><span style="font-family: Helvetica,Arial,sans-serif;">Conformance</span></h3><span style="font-family: Helvetica,Arial,sans-serif;">MDELite relies on you writing a Java program (typically using Java streams and MDELite-tool support) </span><span style="font-family: Helvetica,Arial,sans-serif;">to write and evaluate constraints and to report errors.&nbsp; (OCL is an awkward </span><span style="font-family: Helvetica,Arial,sans-serif;">stream language IMO; Java streams are more elegant).</span><span style="font-family: Helvetica,Arial,sans-serif;"> Here are two constraints on the school daitabase:</span><br style="font-family: Helvetica,Arial,sans-serif;"><ul><li><span style="font-family: Helvetica,Arial,sans-serif;"><span style="font-weight: bold;">Person Name Constraint: </span>A Person's name must begin with a capital letter.</span></li><li><span style="font-family: Helvetica,Arial,sans-serif;"><span style="font-weight: bold;">Name Uniqueness: </span>No two Persons have the same name</span></li></ul><span style="font-family: Helvetica,Arial,sans-serif;">A typical outline of <span style="font-weight: bold;">schoolConform.java</span> is sketched below.</span><br><pre style="font-family: monospace; margin-left: 40px; font-weight: bold;"><big>package BuildDocumentation;

import PrologDB.*;

public class schoolConform {

    public static void main(String... args) {
        // Step 1: standard command-line processing
        MDELite.Marquee4Conform mark = new MDELite.Marquee4Conform(schoolConform.class, ".school.pl", args);
        String inputFileName = mark.getInputFileName();
        String AppName = mark.getAppName(inputFileName);  
             // if "X.school.pl" is input database name
             // then AppName = "X"

        // Step 2: open database to be validated + get needed tables
        DB db = DB.readDataBase(inputFileName);
        Table person = db.getTableEH("person");
        ErrorReport er = new ErrorReport();

        // Step 3: now perform database checks
        // Person Name Constraint
        person.filter(t -> checkCharacter(t))
                .forEach(t -> er.add("Person name not capitalized: %s", t.get("name")));

        // Name Uniqueness Contraint
        person.filter(t -> person.filter(g -> g.get("name").equals(t.get("name"))).count() > 1)
                .forEach(t -> er.add("Persons with duplicate name : %s" + t.get("name")));

        // print error report 
        er.printReport(System.err);
    }
    
    static boolean checkCharacter(Tuple t) {
        String n = t.get("name");
        if (n.length() == 0) {
            return true;
        }
        Character c = n.charAt(0);
        return Character.isLowerCase(c);
    }
} </big></pre><span style="font-family: Helvetica,Arial,sans-serif;">Perhaps the only thing strange is the use of class <span style="font-weight: bold;">ErrorReport</span>.&nbsp; An <span style="font-weight: bold;">ErrorReport</span> object maintains a list of errors that are posted to it.&nbsp; When a report is printed and if at least one error was found, a <span style="font-weight: bold;">RuntimeException</span> is thrown.&nbsp; Incidentally,</span><span style="font-family: Helvetica,Arial,sans-serif;"> the output of this program is: </span><br style="font-family: Helvetica,Arial,sans-serif;"><pre style="font-family: monospace; margin-left: 40px; font-weight: bold;"><big>Person name not capitalized: don
Person name not capitalized: kelly
Person name not capitalized: zeke </big></pre><span style="font-family: Helvetica,Arial,sans-serif;">For further details see the <a href="ConstraintDemoPrograms.html">MDELite Constraint document</a>.</span><br style="font-family: Helvetica,Arial,sans-serif;"><h3><a name="Model_to_Model_M2M_Transformations"></a><span style="font-family: Helvetica,Arial,sans-serif;">Model to Model (M2M) Transformations</span></h3><span style="font-family: Helvetica,Arial,sans-serif;">A M2M transformation in MDELite is a</span><span style="font-family: Helvetica,Arial,sans-serif;"> Java program that implements a</span><span style="font-family: Helvetica,Arial,sans-serif;"> database-to-database transformation. It imports MDELite tools to read and write MDELite </span><span style="font-family: Helvetica,Arial,sans-serif;">schemas and databases.&nbsp; Typically, although not required, it takes&nbsp;2 arguments:</span><span style="font-family: Helvetica,Arial,sans-serif;"> the name of the input database file and the name of the output database file.&nbsp; Beyond that,</span><span style="font-family: Helvetica,Arial,sans-serif;">how you write your database-to-database transformation is up to you. <br><br style="font-family: Helvetica,Arial,sans-serif;"></span><span style="font-family: Helvetica,Arial,sans-serif;">For further information see </span><span style="font-family: Helvetica,Arial,sans-serif;">the <a href="ConstraintDemoPrograms.html">MDELite Demo document</a>.</span><br style="font-family: Helvetica,Arial,sans-serif;"><h3><a name="OOSchema"></a><span style="font-family: Helvetica,Arial,sans-serif;">OOSchema</span></h3><span style="font-family: Helvetica,Arial,sans-serif;">This tool reads an input <span style="font-weight: bold;">x.ooschema.pl</span> file and converts it to a schema file <span style="font-weight: bold;">x.schema.pl</span>.&nbsp; Remember an ooschema file is a Java-like declaration of tables and their inheritance hierarchies.&nbsp; The attributes of a table are only those that are specific to that table.&nbsp; Flattening this schema propagates attributes of supertables to subtables.&nbsp; It is not difficut, but is error-prone. We saw an example use of <a href="#oos">earlier</a>:</span><br style="font-family: Helvetica,Arial,sans-serif;"><pre style="font-family: monospace; margin-left: 40px; font-weight: bold;"><big>&gt; java MDL.OO2schema<br><br></big><big><span style="font-family: monospace;">Usage: MDL.OO2schema X.ooschema.pl [X.schema.pl]
       translate X.ooschema.pl to X.schema.pl
       1st argument must conform to format X.ooschema.pl
       if 2nd argument is absent, output file is X.schema.pl </span></big></pre><h3><a name="Reading_a_Database"></a><span style="font-family: Helvetica,Arial,sans-serif;">Reading a Database</span><span style="font-family: Helvetica,Arial,sans-serif;"></span></h3><span style="font-family: Helvetica,Arial,sans-serif; font-weight: normal;">This tool reads a database and reports errors.&nbsp; If there are no errors, silence is returned:</span><br style="font-family: Helvetica,Arial,sans-serif;"><pre style="font-family: monospace; margin-left: 40px; font-weight: bold;"><big>&gt; java MDL.ReadDB<br><br></big><big><span style="font-family: monospace;">Usage: MDL.ReadDB X.pl </span></big></pre><h3><a name="Reading_a_Schema"></a><span style="font-family: Helvetica,Arial,sans-serif;">Reading a Schema</span></h3><span style="font-family: Helvetica,Arial,sans-serif;">This tool eads a schema and reports errors.&nbsp; If there are no errors, silence is returned:</span><br style="font-family: Helvetica,Arial,sans-serif;"><pre style="font-family: monospace; margin-left: 40px; font-weight: bold;"><big>&gt; java MDL.ReadSchema<br><br></big><big><span style="font-family: monospace;">Usage: MDL.ReadSchema <X>.<sch>.pl
       <sch> is 'ooschema' or 'schema'
       reads schema x and reports errors </span></big></pre><h3><span style="font-family: Helvetica,Arial,sans-serif;">Reading a Table</span></h3><span style="font-family: Helvetica,Arial,sans-serif;">This tool reads a prolog/MDELite table (<span style="font-weight: bold;">.pl</span>) or Comma-Separated-Value (<span style="font-weight: bold;">.csv</span>) table:<br></span><span style="font-family: Helvetica,Arial,sans-serif;"></span><pre style="margin-left: 40px;"><big><span style="font-family: monospace; font-weight: bold;">&gt; java MDL.ReadTable<br><br>Usage: MDL.ReadTable <x>.<y>
       <y> is .csv or .pl
       reads table <x> and reports errors </span></big></pre><h3><a name="Verify_Install"></a><span style="font-family: Helvetica,Arial,sans-serif;">Verify Install</span><span style="font-weight: bold;"></span></h3><span style="font-weight: bold;"></span><span style="font-family: Helvetica,Arial,sans-serif;">Used to verify that you have installed MDELite correctly, and was used </span><a style="font-family: Helvetica,Arial,sans-serif;" href="#ViUsage">earlier</a><span style="font-family: Helvetica,Arial,sans-serif;">. &nbsp;The incantation is:<br></span><span style="font-family: Helvetica,Arial,sans-serif;"></span><pre style="margin-left: 40px; font-weight: bold;"><big style="font-weight: bold;"><span style="font-family: monospace;">&gt; java MDL.VerifyInstall<br><br>Violet should be running now.
If not, something is wrong.
Otherwise, please close Violet,
and MDELite Ready to Use! </span></big><big><span style="font-family: monospace;"></span></big></pre><h3><a name="Version"></a><span style="font-family: Helvetica,Arial,sans-serif;">Version</span></h3><span style="font-family: Helvetica,Arial,sans-serif;">Returns the version number of MDELite:</span><br style="font-family: Helvetica,Arial,sans-serif;"><pre style="font-family: monospace; margin-left: 40px;"><big><big><small>&nbsp;<span style="font-weight: bold;">&gt; java MDL.Version</span></small><br style="font-weight: bold;"><br style="font-weight: bold;"><span style="font-weight: bold;"> </span></big></big><big style="font-weight: bold;"><span style="font-family: monospace;">MDELite version 7.18s </span></big></pre><h3><a name="Violet"></a><span style="font-family: Helvetica,Arial,sans-serif;">Violet and its MDELite Tools</span></h3><span style="font-family: Helvetica,Arial,sans-serif;">You can invoke <a href="http://alexdp.free.fr/violetumleditor/page.php"><span style="font-weight: bold;">Violet</span></a> directly through its jar file, but calling it from a command line is painful; MDL.Violet is easier: </span><br style="font-family: Helvetica,Arial,sans-serif;"><pre style="font-family: monospace; margin-left: 40px; font-weight: bold;"><big><big>&gt; java MDL.Violet &nbsp; &nbsp;&nbsp; // spawns Violet and waits for Violet to close</big></big></pre><div style="margin-left: 40px;"><span style="font-family: Helvetica,Arial,sans-serif;"><span style="font-weight: bold;">Please note</span>: MDELite uses Violet version 1, NOT version 2. &nbsp;Why? &nbsp;Because Version 2 made the use of Violet significantly harder.</span><br><span style="font-family: Helvetica,Arial,sans-serif;"></span></div><div style="margin-left: 40px;"><span style="font-family: Helvetica,Arial,sans-serif;"><img style="width: 745px; height: 332px;" alt="" src="figures/Violet.jpg"></span><br><span style="font-family: Helvetica,Arial,sans-serif;"></span></div><span style="font-family: Helvetica,Arial,sans-serif;"><br>MDELite has a host of tools using Violet, including parsers, unparsers, and conformance tools for Violet class diagrams and Violet State Diagrams. &nbsp;The incantations for class diagram tools are below; their counterparts are no different for State diagrams.<br></span><ul style="font-family: Helvetica,Arial,sans-serif;"><li><a href="#Violet_Class_Parser">Violet Class Parser</a></li><li><a href="#Violet_Class_UnParser">Violet Class UnParser</a></li><li><a href="#Violet_Class_Conform">Violet Class Conform</a></li><li><a href="#Violet_State_Tools">Violet State Tools</a></li></ul><span style="font-family: Helvetica,Arial,sans-serif;">More information on Violet can be found in the <a href="VioletManual.html">Violet Manual</a>. &nbsp;Comparable tools for Yuml, another UML drawing tool, are <a href="#Yuml_and_its_MDELite_Tools">also available</a>.</span><h4><a name="Violet_Class_Parser"></a><span style="font-family: Helvetica,Arial,sans-serif;">Violet Class Parser</span></h4><span style="font-family: Helvetica,Arial,sans-serif;">Maps a Violet Class diagram</span><span style="font-family: Helvetica,Arial,sans-serif;"> file (in file&nbsp;<span style="font-weight: bold;">X.class.violet</span>) to a <span style="font-weight: bold;">vpl</span> database.&nbsp; The <span style="font-weight: bold;">vpl</span> schema is in <span style="font-weight: bold;">libpl/vpl.schema.pl </span></span><span style="font-family: Helvetica,Arial,sans-serif;">&nbsp;and is shown below:</span><br><pre style="font-family: monospace; margin-left: 40px; font-weight: bold;"><span style="font-family: Helvetica,Arial,sans-serif;"></span><big><span style="font-family: monospace;">% Violet (vpl) class database

dbase(vpl,[vBox,vAssociation]).

% type = c(class),i(nterface),n(ote).  packages are skipped

table(vBox,[id,type,"name","fields","methods",x,y]).

% type1,type2 = c(lass) or i(nterface)
% lineStyle = ""(solid) or "DOTTED"
% arrow1,2 = V, TRIANGLE, DIAMOND, BLACK_DIAMOND
% bentStyle = "", HV, VH, HVH, VHV

table(vAssociation,[id,cid1,type1,"role1","arrow1",cid2,type2,"role2","arrow2","bentStyle","lineStyle","middleLabel"]). </span></big></pre><span style="font-family: Helvetica,Arial,sans-serif;">To invoke the parser:</span><br><pre style="font-family: monospace; margin-left: 40px; font-weight: bold;"><big>&gt; java Violett.ClassParser<br><br></big><big><span style="font-family: monospace;">Usage: Violett.ClassParser X.class.violet [X.vpl.pl]
       translate X.class.violet to X.vpl.pl
       1st argument must conform to format X.class.violet
       if 2nd argument is absent, output file is X.vpl.pl </span></big></pre><h4><a name="Violet_Class_UnParser"></a><span style="font-family: Helvetica,Arial,sans-serif;">Violet Class UnParser</span></h4><span style="font-family: Helvetica,Arial,sans-serif;">Maps a <span style="font-weight: bold;">vpl</span> database</span><span style="font-family: Helvetica,Arial,sans-serif;"> (file <span style="font-weight: bold;">X.vpl.pl</span>) to a Violet Class diagram file (<big>X.class.violet</big>):<br></span><span style="font-family: Helvetica,Arial,sans-serif;"></span><pre style="margin-left: 40px; font-weight: bold;"><big><span style="font-family: monospace;">&gt; java Violett.ClassUnParser</span></big><br><big><span style="font-family: monospace;"></span></big><br><big><span style="font-family: monospace;">Usage: Violett.ClassUnParser X.vpl.pl [X.class.violet]
       translate X.vpl.pl to X.class.violet
       1st argument must conform to format X.vpl.pl
       if 2nd argument is absent, output file is X.class.violet </span></big><big><span style="font-family: monospace;"></span></big></pre><h4 style="font-family: Helvetica,Arial,sans-serif;"><a name="Violet_Class_Conform"></a>Violet Class Conform</h4><span style="font-family: Helvetica,Arial,sans-serif;">Validates a <span style="font-weight: bold;">X.vpl.pl</span> database:</span><span style="font-family: Helvetica,Arial,sans-serif;"><br></span><span style="font-family: Helvetica,Arial,sans-serif;"></span><pre style="margin-left: 40px; font-weight: bold;"><big><span style="font-family: monospace;">&gt;java Violett.ClassConform</span></big><br><big><span style="font-family: monospace;"></span></big><br><big><span style="font-family: monospace;">Usage: Violett.ClassConform X.vpl.pl
       evaluate conformance rules on X.vpl.pl
       silent return indicates no errors </span></big></pre><h4 style="font-family: Helvetica,Arial,sans-serif;"><a name="Violet_State_Tools"></a>Violet State Tools</h4><span style="font-family: Helvetica,Arial,sans-serif;">Use the following schema to store database encodings of Violet state diagrams -- taken from <span style="font-weight: bold;">libpl/fsm.schema.pl</span>:<br></span><pre style="margin-left: 40px; font-weight: bold;"><big><span style="font-family: monospace;">% violet (fsm) state machine database

dbase(fsm,[node,edge]).

% ntype = state | note | init | final | point
% etype = arrow | note

table(node,[nid,ntype,"text","color",xpos,ypos]).
table(edge,[eid,etype,"label",startid,endid]). </span></big></pre><span style="font-family: Helvetica,Arial,sans-serif;">The StateParser, StateUnparser, and StateConform tools have exactly the same calling sequence as their Violet Class counterparts, except the "<span style="font-weight: bold;">Violett.State..</span>" program is used.</span><span style="font-family: Helvetica,Arial,sans-serif;"></span><h3><a name="Yuml_and_its_MDELite_Tools"></a><span style="font-family: Helvetica,Arial,sans-serif;">Yuml and its MDELite Tools</span></h3><span style="font-family: Helvetica,Arial,sans-serif;">Yuml is a free, on-line tool that MDELite uses.</span><span style="font-family: Helvetica,Arial,sans-serif;">&nbsp; The <span style="font-weight: bold;">ypl</span> schema that is used to encode Yuml databases is in <span style="font-weight: bold;">libpl/ypl.schema.pl</span>:</span><span style="font-family: Helvetica,Arial,sans-serif;"><br></span><pre style="margin-left: 40px; font-weight: bold;"><big><span style="font-family: monospace;">% yuml class schema

dbase(ypl,[yumlBox,yumlAssociation]).

% type = n (for note), c (for class), i (for interface)

table(yumlBox,[id,type,"name","fields","methods"]).

% end1 = <> | ++ | ^ | < | "" (nothing)
% end2 = <> | ++ | ^ | > | "" (nothing)
% lineType = - | -.-

table(yumlAssociation,[id,box1,"role1","end1","lineType",box2,"role2","end2"]). </span></big></pre><span style="font-family: Helvetica,Arial,sans-serif;">The ClassParser, ClassUnparser, and ClassConform tools have exactly the same calling sequence as their Violet Class counterparts,</span><span style="font-family: Helvetica,Arial,sans-serif;"> except the "<span style="font-weight: bold;">Yuml.Class..</span>" program is used. &nbsp;More information is found in the <a href="YumlManual.html">Yuml Manual</a>.</span><h2><a name="Closing"></a><span style="font-family: Helvetica,Arial,sans-serif;">Closing</span></h2><span style="font-family: Helvetica,Arial,sans-serif;">MDELite is a work in progress.&nbsp; It is possible that this documentation</span><span style="font-family: Helvetica,Arial,sans-serif;"> may get out-of-date with code releases.&nbsp; If so, please report them to <a href="mailto:batory@cs.utexas.edu">me</a> .</span><br style="font-family: Helvetica,Arial,sans-serif;"><br style="font-family: Helvetica,Arial,sans-serif;"></body></html> 
